{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/abstracts.js","src/js/components/background.js","src/js/components/birds.js","src/js/components/orbit.js","src/js/main.js"],"names":[],"mappings":"AAAA;;;ACCA,IAAM,YAAY;;AAEd,qBAAiB,QAFH;AAGd,iBAAa,QAHC;;AAKd,qBAAiB,QALH;AAMd,qBAAiB,QANH;AAOd,qBAAiB,QAPH;AAQd,qBAAiB,QARH;AASd,qBAAiB,QATH;AAUd,qBAAiB;AAVH,CAAlB;;AAaA,OAAO,OAAP,GAAiB,SAAjB;;;;;ACdA,IAAM,YAAY,QAAQ,cAAR,CAAlB;AACA,IAAM,QAAQ,QAAQ,SAAR,CAAd;;AAEA;;AAEA,IAAM,UAAU,SAAS,cAAT,CAAwB,OAAxB,CAAhB;AACA,IAAM,cAAc,CAAC,EAArB;AACA,IAAM,eAAe,CAArB;AACA,IAAM,QAAQ,IAAI,MAAM,KAAV,EAAd;AACA,IAAM,SAAS,IAAI,MAAM,iBAAV,CAA6B,EAA7B,EAAiC,OAAO,UAAP,GAAoB,OAAO,WAA5D,EAAyE,GAAzE,EAA8E,IAA9E,CAAf;AACA,IAAM,WAAW,IAAI,MAAM,aAAV,EAAjB;AACA,SAAS,OAAT,CAAkB,OAAO,UAAzB,EAAqC,OAAO,WAA5C;;AAEA;AACA,IAAI,cAAJ;;AAEA;AACA,IAAI,mBAAJ;;AAEA;AACA;AACA,IAAI,YAAY,IAAI,MAAM,OAAV,CAAkB,GAAlB,EAAuB,CAAvB,EAA0B,GAA1B,CAAhB;AACA,IAAI,WAAW,IAAI,MAAM,OAAV,CAAkB,EAAlB,EAAsB,CAAtB,EAAyB,EAAzB,CAAf;AACA;AACA;AACA;;AAEA;AACA,SAAS,IAAT,GAAgB;AACZ,YAAQ,IAAI,MAAM,KAAV,EAAR;AACH;;AAED,SAAS,aAAT,GAAyB;AACrB,iBAAa,IAAI,IAAI,KAAR,CAAc;AACvB,iBAAS;AACL,mBAAO,IAAI,MAAM,aAAV,GAA0B,IAA1B,CAAgC,yCAAhC;AADF,SADc;AAIvB,0BAAkB,KAJK;AAKvB,wBAAgB,IALO;AAMvB,kBAAU,IANa;AAOvB,kBAAU,MAAM;AAChB;AACA;AACA;AACA;AACA;AAZuB,KAAd,CAAb;;AAeA,QAAI,YAAY,CAAhB;;AAEA,QAAI,eAAe,IAAI,IAAI,OAAR,CAAgB;AAC/B,cAAM,IAAI,aAAJ,CAAkB,MADO;AAE/B,uBAAe,KAFgB;AAG/B,kBAAU,KAHqB;AAI/B,gBAAQ;AACJ,mBAAO,EADH;AAEJ,oBAAQ;AAFJ,SAJuB;AAQ/B,kBAAU;AACN,mBAAO,IAAI,MAAM,OAAV,CAAkB,CAAlB,EAAqB,cAAe,YAAU,CAA9C,EAAkD,CAAC,EAAnD,CADD;AAEN,oBAAQ,CAFF;AAGN,yBAAa,IAAI,MAAM,OAAV,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AAHP,SARqB;AAa/B,gBAAQ;AACJ,mBAAO,KADH;AAEJ,oBAAQ;AAFJ,SAbuB;AAiB/B,eAAO;AACH,mBAAO,IAAI,MAAM,KAAV,CAAgB,OAAhB;AADJ,SAjBwB;AAoB/B,iBAAS;AACL,mBAAO,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB;AADF,SApBsB;AAuB/B,cAAM;AACF,mBAAO;AADL,SAvByB;AA0B/B,eAAO;AACH,mBAAO,CAAC,GAAD,EAAO,CAAC,CAAR,EAAW,GAAX,CADJ;AAEH,oBAAQ;AAFL;AA1BwB,KAAhB,CAAnB;;AAiCA,eAAW,UAAX,CAAsB,YAAtB;;AAEA,eAAW,QAAX,CAAoB,IAApB,GAA2B,MAAM,UAAjC;AACA,UAAM,GAAN,CAAU,WAAW,IAArB;AACH;;AAGD;AACA,IAAI,SAAS,IAAI,MAAM,WAAV,CAAuB,IAAvB,EAA6B,GAA7B,EAAkC,IAAlC,CAAb;AACA,IAAI,SAAS,IAAI,MAAM,oBAAV,CAAgC;AACzC,WAAO,UAAU,eADwB;AAEzC,UAAM,MAAM;AAF6B,CAAhC,CAAb;;AAKA,IAAI,YAAY,IAAI,MAAM,IAAV,CAAgB,MAAhB,EAAwB,MAAxB,CAAhB;AACA,UAAU,UAAV,CAAqB,WAArB;AACA,MAAM,GAAN,CAAW,SAAX;;AAGA,IAAI,WAAW,IAAI,MAAM,WAAV,CAAuB,KAAvB,EAA8B,KAA9B,EAAqC,GAArC,CAAf;AACA,IAAI,WAAW,IAAI,MAAM,oBAAV,CAAgC,EAAE,OAAO,UAAU,eAAnB,EAAhC,CAAf;AACA,IAAI,cAAc,IAAI,MAAM,IAAV,CAAgB,QAAhB,EAA0B,QAA1B,CAAlB;AACA,YAAY,UAAZ,CAAuB,CAAC,GAAxB;AACA,MAAM,GAAN,CAAW,WAAX;;AAEA,IAAI,WAAW,IAAI,MAAM,WAAV,CAAuB,CAAC,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,CAAf;AACA,IAAI,WAAW,IAAI,MAAM,oBAAV,CAAgC,EAAE,OAAO,UAAU,WAAnB,EAAhC,CAAf;AACA,IAAI,cAAc,IAAI,MAAM,IAAV,CAAgB,QAAhB,EAA0B,QAA1B,CAAlB;AACA,YAAY,UAAZ,CAAuB,CAAC,CAAxB;AACA,YAAY,UAAZ,CAAuB,CAAvB;AACA,YAAY,UAAZ,CAAuB,CAAvB;AACA,MAAM,GAAN,CAAW,WAAX;;AAMA;AACA,IAAI,QAAQ,IAAI,MAAM,eAAV,CAA2B,QAA3B,EAAqC,QAArC,EAA+C,EAA/C,CAAZ;AACA,MAAM,GAAN,CAAW,KAAX;;AAEA,IAAI,aAAa,IAAI,MAAM,UAAV,CAAqB,QAArB,EAA+B,GAA/B,EAAoC,IAApC,CAAjB;AACA,MAAM,QAAN,CAAe,GAAf,CAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B;AACA,MAAM,GAAN,CAAW,UAAX;;AAEA;AACA,OAAO,QAAP,CAAgB,CAAhB,GAAoB,YAApB;;AAEA,QAAQ,WAAR,CAAqB,SAAS,UAA9B;;AAGA;AACA;AACA,SAAS,mBAAT,CAA8B,SAA9B,EAA0C;AACtC,eAAW,IAAX,CAAiB,SAAjB;AACH;;AAED,OAAO,gBAAP,CAAyB,QAAzB,EAAmC,YAAW;AAC1C,QAAI,IAAI,OAAO,UAAf;AAAA,QACI,IAAI,OAAO,WADf;AAEA,WAAO,MAAP,GAAgB,IAAI,CAApB;AACA,WAAO,sBAAP;AACA,aAAS,OAAT,CAAkB,CAAlB,EAAqB,CAArB;AACH,CAND,EAMG,KANH;;AASA;;;AAKA,IAAI,QAAQ,IAAI,KAAJ,CAAU,YAAV,EAAwB,MAAxB,CAAZ;;AAEA,SAAS,MAAT,CAAgB,EAAhB,EAAoB;;AAEhB;AACA,wBAAoB,EAApB;AACA,aAAS,MAAT,CAAiB,KAAjB,EAAwB,MAAxB;AACH;;AAED;AACA,SAAS,OAAT,GAAmB;AACf,0BAAuB,OAAvB;AACA,WAAO,MAAM,QAAN,EAAP;;AAEA;AACH;;AAID;AACA;AACA;;;;;AC/KA,QAAQ,GAAR,CAAY,QAAZ;;;;;;;;;ACAA;;AAEA;AACA;;;;;;;IAOM,K;AACF,mBAAY,MAAZ,EAAoB,MAApB,EAAgE;AAAA,YAApC,OAAoC,uEAA1B,IAAI,MAAM,OAAV,CAAkB,CAAlB,EAAoB,CAApB,EAAsB,CAAtB,CAA0B;;AAAA;;AAC5D,aAAK,MAAL,GAAc,MAAd;AACA,aAAK,MAAL,GAAc,MAAd;AACA,aAAK,CAAL,GAAS,MAAT;AACA,aAAK,CAAL,GAAS,CAAT;AACA,aAAK,GAAL,GAAW,CAAX;AACA,aAAK,GAAL,GAAW,CAAX;AACA,aAAK,OAAL,GAAe,OAAf;AACH;;;;iCAGQ;AACL,iBAAK,MAAL,CAAY,UAAZ,CAAuB,KAAK,GAAL,GAAW,EAAlC;AACA,iBAAK,MAAL,CAAY,UAAZ,CAAuB,KAAK,GAAL,GAAW,EAAlC;AACA,iBAAK,MAAL,CAAY,MAAZ,CAAmB,KAAK,OAAxB;;AAEA,gBAAI,KAAK,GAAT,EAAc;AACV,qBAAK,CAAL,IAAU,GAAV;AACH,aAFD,MAEO;AACH,qBAAK,CAAL,IAAU,GAAV;AACH;;AAED,gBAAI,KAAK,GAAT,EAAc;AACV,qBAAK,CAAL,IAAU,GAAV;AACH,aAFD,MAEO;AACH,qBAAK,CAAL,IAAU,GAAV;AACH;;AAED,gBAAI,KAAK,CAAL,IAAU,KAAK,MAAf,IAAyB,KAAK,CAAL,IAAU,CAAC,KAAK,MAA7C,EAAqD;AACjD,qBAAK,GAAL,IAAY,KAAK,GAAjB;AACH;;AAED,gBAAI,KAAK,CAAL,IAAU,KAAK,MAAf,IAAyB,KAAK,CAAL,IAAU,CAAC,KAAK,YAA7C,EAA2D;AACvD,qBAAK,GAAL,IAAY,KAAK,GAAjB;AACH;AACJ;;;;;;AAGL,OAAO,OAAP,GAAiB,KAAjB;;;;;ACjDA;;AACA","file":"main.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","\r\nconst abstracts = {\r\n\r\n    backgroundcolor: 0xfefefe,\r\n    accentColor: 0x5588ff,\r\n\r\n    themeMonoColor1: 0xF6FAFB,\r\n    themeMonoColor2: 0xC3CACD,\r\n    themeMonoColor3: 0x97A1A4,\r\n    themeMonoColor4: 0x717C80,\r\n    themeMonoColor5: 0x49565A,\r\n    themeMonoColor6: 0x1F282C\r\n}\r\n\r\nmodule.exports = abstracts;","const abstracts = require('../abstracts');\r\nconst Orbit = require('./orbit');\r\n\r\n// Constents\r\n\r\nconst sceneEl = document.getElementById('scene');\r\nconst FLOOR_LEVEL = -10;\r\nconst cameraRadius = 5;\r\nconst scene = new THREE.Scene();\r\nconst camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );\r\nconst renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize( window.innerWidth, window.innerHeight );\r\n\r\n// Used in init\r\nlet clock;\r\n\r\n// Used in initParticles\r\nlet floorGroup;\r\n\r\n// Default Vectors\r\n// Position based on field\r\nlet posMiddle = new THREE.Vector3(500, 0, 500);\r\nlet posShort = new THREE.Vector3(10, 0, 10);\r\n// Rotation\r\n// Objects\r\n// Floor Texture\r\n\r\n// Init\r\nfunction init() {\r\n    clock = new THREE.Clock();\r\n}\r\n\r\nfunction initParticles() {\r\n    floorGroup = new SPE.Group({\r\n        texture: {\r\n            value: new THREE.TextureLoader().load( \"/assets/images/textures/grass_blade.png\")\r\n        },\r\n        maxParticleCount: 50000,\r\n        hasPerspective: true,\r\n        colorize: true,\r\n        blending: THREE.NormalBlending,\r\n        // transparent: false,\r\n        // alphaTest: 5,\r\n        // depthWrite: 0,\r\n        // fog: 1,\r\n        // scale: 1\r\n    });\r\n    \r\n    let grassSize = 1;\r\n\r\n    let floorEmitter = new SPE.Emitter({\r\n        type: SPE.distributions.SPHERE,\r\n        particleCount: 10000,\r\n        isStatic: false,\r\n        maxAge: {\r\n            value: 10,\r\n            spread: 3\r\n        },\r\n        position: {\r\n            value: new THREE.Vector3(0, FLOOR_LEVEL - (grassSize/2), -50),\r\n            radius: 1,\r\n            radiusScale: new THREE.Vector3(50, 0.001, 50),\r\n        },\r\n        wiggle: {\r\n            value: .0001,\r\n            spread: .001\r\n        },\r\n        color: {\r\n            value: new THREE.Color('green')\r\n        },\r\n        opacity: {\r\n            value: [0, 1, 1, 1, 1, 0]\r\n        },\r\n        size: {\r\n            value: grassSize\r\n        },\r\n        angle: {\r\n            value: [0.2 , -1, 0.2],\r\n            spread: .5\r\n        }\r\n    });\r\n    \r\n    \r\n    floorGroup.addEmitter(floorEmitter);\r\n    \r\n    floorGroup.material.side = THREE.DoubleSide;\r\n    scene.add(floorGroup.mesh);\r\n}\r\n\r\n\r\n// Floor\r\nlet floorG = new THREE.BoxGeometry( 1000, 0.1, 1000 );\r\nlet floorM = new THREE.MeshStandardMaterial( { \r\n    color: abstracts.themeMonoColor1,\r\n    side: THREE.DoubleSide\r\n});\r\n\r\nlet floorMesh = new THREE.Mesh( floorG, floorM );\r\nfloorMesh.translateY(FLOOR_LEVEL);\r\nscene.add( floorMesh );\r\n\r\n\r\nlet farWallG = new THREE.BoxGeometry( 10000, 10000, 0.1);\r\nlet farWallM = new THREE.MeshStandardMaterial( { color: abstracts.themeMonoColor1 } );\r\nlet farWallMesh = new THREE.Mesh( farWallG, farWallM );\r\nfarWallMesh.translateZ(-500);\r\nscene.add( farWallMesh );\r\n\r\nlet testOBJG = new THREE.BoxGeometry( -1, 1, 1);\r\nlet testOBJM = new THREE.MeshStandardMaterial( { color: abstracts.accentColor } );\r\nlet testOBJMesh = new THREE.Mesh( testOBJG, testOBJM );\r\ntestOBJMesh.translateX(-3);\r\ntestOBJMesh.translateY(0);\r\ntestOBJMesh.translateZ(0);\r\nscene.add( testOBJMesh );\r\n\r\n\r\n\r\n\r\n\r\n// Lights\r\nlet light = new THREE.HemisphereLight( 0x0000ff, 0x00ff00, 10 );\r\nscene.add( light );\r\n\r\nlet pointLight = new THREE.PointLight(0x000000, 0.1, 1000);\r\nlight.position.set( 50, 50, 50 );\r\nscene.add( pointLight );\r\n\r\n// Camera\r\ncamera.position.z = cameraRadius;\r\n\r\nsceneEl.appendChild( renderer.domElement );\r\n\r\n\r\n// Updates all partical group\r\n// Put this function inside the update method\r\nfunction particleGroupUpdate( deltaTime ) {\r\n    floorGroup.tick( deltaTime );\r\n}\r\n\r\nwindow.addEventListener( 'resize', function() {\r\n    let w = window.innerWidth,\r\n        h = window.innerHeight;\r\n    camera.aspect = w / h;\r\n    camera.updateProjectionMatrix();\r\n    renderer.setSize( w, h );\r\n}, false );\r\n\r\n\r\n//let x = 0;\r\n\r\n\r\n\r\n\r\nlet orbit = new Orbit(cameraRadius, camera);\r\n\r\nfunction render(dt) {\r\n    \r\n    //camera.rotateY();\r\n    particleGroupUpdate(dt);\r\n    renderer.render( scene, camera );\r\n}\r\n\r\n// Animate\r\nfunction animate() {\r\n    requestAnimationFrame( animate );\r\n    render(clock.getDelta());\r\n\r\n    //orbit.update();\r\n}\r\n\r\n\r\n\r\ninit();\r\ninitParticles();\r\nanimate();","console.log('test12');","// Allow the camera to orbit around\r\n\r\n// TODO add camera init position\r\n/*\r\n* radius - radius to orbit\r\n* camera - scene camera to move\r\n* loopPos - Position to lookAt\r\n\r\n* update - Run to continuously update the camera\r\n*/\r\nclass Orbit {\r\n    constructor(radius, camera, lookPos = new THREE.Vector3(0,0,0)) {\r\n        this.radius = radius;\r\n        this.camera = camera;\r\n        this.z = radius;\r\n        this.x = 0;\r\n        this.zUp = 0;\r\n        this.xUp = 1;\r\n        this.lookPos = lookPos;\r\n    }\r\n    \r\n\r\n    update() {\r\n        this.camera.translateZ(this.zUp / 80);\r\n        this.camera.translateX(this.xUp / 80);\r\n        this.camera.lookAt(this.lookPos);\r\n\r\n        if (this.zUp) {\r\n            this.z += 0.1;\r\n        } else {\r\n            this.z -= 0.1;\r\n        }\r\n\r\n        if (this.xUp) {\r\n            this.x += 0.1;\r\n        } else {\r\n            this.x -= 0.1;\r\n        }\r\n\r\n        if (this.x >= this.radius || this.x <= -this.radius) {\r\n            this.xUp != this.xUp\r\n        }\r\n\r\n        if (this.z >= this.radius || this.z <= -this.cameraRadius) {\r\n            this.zUp != this.zUp\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = Orbit;","import './components/background';\r\nimport './components/birds';\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYWJzdHJhY3RzLmpzIiwic3JjL2pzL2NvbXBvbmVudHMvYmFja2dyb3VuZC5qcyIsInNyYy9qcy9jb21wb25lbnRzL2JpcmRzLmpzIiwic3JjL2pzL2NvbXBvbmVudHMvb3JiaXQuanMiLCJzcmMvanMvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQ0EsSUFBTSxZQUFZOztBQUVkLHFCQUFpQixRQUZIO0FBR2QsaUJBQWEsUUFIQzs7QUFLZCxxQkFBaUIsUUFMSDtBQU1kLHFCQUFpQixRQU5IO0FBT2QscUJBQWlCLFFBUEg7QUFRZCxxQkFBaUIsUUFSSDtBQVNkLHFCQUFpQixRQVRIO0FBVWQscUJBQWlCO0FBVkgsQ0FBbEI7O0FBYUEsT0FBTyxPQUFQLEdBQWlCLFNBQWpCOzs7OztBQ2RBLElBQU0sWUFBWSxRQUFRLGNBQVIsQ0FBbEI7QUFDQSxJQUFNLFFBQVEsUUFBUSxTQUFSLENBQWQ7O0FBRUE7O0FBRUEsSUFBTSxVQUFVLFNBQVMsY0FBVCxDQUF3QixPQUF4QixDQUFoQjtBQUNBLElBQU0sY0FBYyxDQUFDLEVBQXJCO0FBQ0EsSUFBTSxlQUFlLENBQXJCO0FBQ0EsSUFBTSxRQUFRLElBQUksTUFBTSxLQUFWLEVBQWQ7QUFDQSxJQUFNLFNBQVMsSUFBSSxNQUFNLGlCQUFWLENBQTZCLEVBQTdCLEVBQWlDLE9BQU8sVUFBUCxHQUFvQixPQUFPLFdBQTVELEVBQXlFLEdBQXpFLEVBQThFLElBQTlFLENBQWY7QUFDQSxJQUFNLFdBQVcsSUFBSSxNQUFNLGFBQVYsRUFBakI7QUFDQSxTQUFTLE9BQVQsQ0FBa0IsT0FBTyxVQUF6QixFQUFxQyxPQUFPLFdBQTVDOztBQUVBO0FBQ0EsSUFBSSxjQUFKOztBQUVBO0FBQ0EsSUFBSSxtQkFBSjs7QUFFQTtBQUNBO0FBQ0EsSUFBSSxZQUFZLElBQUksTUFBTSxPQUFWLENBQWtCLEdBQWxCLEVBQXVCLENBQXZCLEVBQTBCLEdBQTFCLENBQWhCO0FBQ0EsSUFBSSxXQUFXLElBQUksTUFBTSxPQUFWLENBQWtCLEVBQWxCLEVBQXNCLENBQXRCLEVBQXlCLEVBQXpCLENBQWY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLElBQVQsR0FBZ0I7QUFDWixZQUFRLElBQUksTUFBTSxLQUFWLEVBQVI7QUFDSDs7QUFFRCxTQUFTLGFBQVQsR0FBeUI7QUFDckIsaUJBQWEsSUFBSSxJQUFJLEtBQVIsQ0FBYztBQUN2QixpQkFBUztBQUNMLG1CQUFPLElBQUksTUFBTSxhQUFWLEdBQTBCLElBQTFCLENBQWdDLHlDQUFoQztBQURGLFNBRGM7QUFJdkIsMEJBQWtCLEtBSks7QUFLdkIsd0JBQWdCLElBTE87QUFNdkIsa0JBQVUsSUFOYTtBQU92QixrQkFBVSxNQUFNO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFadUIsS0FBZCxDQUFiOztBQWVBLFFBQUksWUFBWSxDQUFoQjs7QUFFQSxRQUFJLGVBQWUsSUFBSSxJQUFJLE9BQVIsQ0FBZ0I7QUFDL0IsY0FBTSxJQUFJLGFBQUosQ0FBa0IsTUFETztBQUUvQix1QkFBZSxLQUZnQjtBQUcvQixrQkFBVSxLQUhxQjtBQUkvQixnQkFBUTtBQUNKLG1CQUFPLEVBREg7QUFFSixvQkFBUTtBQUZKLFNBSnVCO0FBUS9CLGtCQUFVO0FBQ04sbUJBQU8sSUFBSSxNQUFNLE9BQVYsQ0FBa0IsQ0FBbEIsRUFBcUIsY0FBZSxZQUFVLENBQTlDLEVBQWtELENBQUMsRUFBbkQsQ0FERDtBQUVOLG9CQUFRLENBRkY7QUFHTix5QkFBYSxJQUFJLE1BQU0sT0FBVixDQUFrQixFQUFsQixFQUFzQixLQUF0QixFQUE2QixFQUE3QjtBQUhQLFNBUnFCO0FBYS9CLGdCQUFRO0FBQ0osbUJBQU8sS0FESDtBQUVKLG9CQUFRO0FBRkosU0FidUI7QUFpQi9CLGVBQU87QUFDSCxtQkFBTyxJQUFJLE1BQU0sS0FBVixDQUFnQixPQUFoQjtBQURKLFNBakJ3QjtBQW9CL0IsaUJBQVM7QUFDTCxtQkFBTyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsRUFBYSxDQUFiLEVBQWdCLENBQWhCO0FBREYsU0FwQnNCO0FBdUIvQixjQUFNO0FBQ0YsbUJBQU87QUFETCxTQXZCeUI7QUEwQi9CLGVBQU87QUFDSCxtQkFBTyxDQUFDLEdBQUQsRUFBTyxDQUFDLENBQVIsRUFBVyxHQUFYLENBREo7QUFFSCxvQkFBUTtBQUZMO0FBMUJ3QixLQUFoQixDQUFuQjs7QUFpQ0EsZUFBVyxVQUFYLENBQXNCLFlBQXRCOztBQUVBLGVBQVcsUUFBWCxDQUFvQixJQUFwQixHQUEyQixNQUFNLFVBQWpDO0FBQ0EsVUFBTSxHQUFOLENBQVUsV0FBVyxJQUFyQjtBQUNIOztBQUdEO0FBQ0EsSUFBSSxTQUFTLElBQUksTUFBTSxXQUFWLENBQXVCLElBQXZCLEVBQTZCLEdBQTdCLEVBQWtDLElBQWxDLENBQWI7QUFDQSxJQUFJLFNBQVMsSUFBSSxNQUFNLG9CQUFWLENBQWdDO0FBQ3pDLFdBQU8sVUFBVSxlQUR3QjtBQUV6QyxVQUFNLE1BQU07QUFGNkIsQ0FBaEMsQ0FBYjs7QUFLQSxJQUFJLFlBQVksSUFBSSxNQUFNLElBQVYsQ0FBZ0IsTUFBaEIsRUFBd0IsTUFBeEIsQ0FBaEI7QUFDQSxVQUFVLFVBQVYsQ0FBcUIsV0FBckI7QUFDQSxNQUFNLEdBQU4sQ0FBVyxTQUFYOztBQUdBLElBQUksV0FBVyxJQUFJLE1BQU0sV0FBVixDQUF1QixLQUF2QixFQUE4QixLQUE5QixFQUFxQyxHQUFyQyxDQUFmO0FBQ0EsSUFBSSxXQUFXLElBQUksTUFBTSxvQkFBVixDQUFnQyxFQUFFLE9BQU8sVUFBVSxlQUFuQixFQUFoQyxDQUFmO0FBQ0EsSUFBSSxjQUFjLElBQUksTUFBTSxJQUFWLENBQWdCLFFBQWhCLEVBQTBCLFFBQTFCLENBQWxCO0FBQ0EsWUFBWSxVQUFaLENBQXVCLENBQUMsR0FBeEI7QUFDQSxNQUFNLEdBQU4sQ0FBVyxXQUFYOztBQUVBLElBQUksV0FBVyxJQUFJLE1BQU0sV0FBVixDQUF1QixDQUFDLENBQXhCLEVBQTJCLENBQTNCLEVBQThCLENBQTlCLENBQWY7QUFDQSxJQUFJLFdBQVcsSUFBSSxNQUFNLG9CQUFWLENBQWdDLEVBQUUsT0FBTyxVQUFVLFdBQW5CLEVBQWhDLENBQWY7QUFDQSxJQUFJLGNBQWMsSUFBSSxNQUFNLElBQVYsQ0FBZ0IsUUFBaEIsRUFBMEIsUUFBMUIsQ0FBbEI7QUFDQSxZQUFZLFVBQVosQ0FBdUIsQ0FBQyxDQUF4QjtBQUNBLFlBQVksVUFBWixDQUF1QixDQUF2QjtBQUNBLFlBQVksVUFBWixDQUF1QixDQUF2QjtBQUNBLE1BQU0sR0FBTixDQUFXLFdBQVg7O0FBTUE7QUFDQSxJQUFJLFFBQVEsSUFBSSxNQUFNLGVBQVYsQ0FBMkIsUUFBM0IsRUFBcUMsUUFBckMsRUFBK0MsRUFBL0MsQ0FBWjtBQUNBLE1BQU0sR0FBTixDQUFXLEtBQVg7O0FBRUEsSUFBSSxhQUFhLElBQUksTUFBTSxVQUFWLENBQXFCLFFBQXJCLEVBQStCLEdBQS9CLEVBQW9DLElBQXBDLENBQWpCO0FBQ0EsTUFBTSxRQUFOLENBQWUsR0FBZixDQUFvQixFQUFwQixFQUF3QixFQUF4QixFQUE0QixFQUE1QjtBQUNBLE1BQU0sR0FBTixDQUFXLFVBQVg7O0FBRUE7QUFDQSxPQUFPLFFBQVAsQ0FBZ0IsQ0FBaEIsR0FBb0IsWUFBcEI7O0FBRUEsUUFBUSxXQUFSLENBQXFCLFNBQVMsVUFBOUI7O0FBR0E7QUFDQTtBQUNBLFNBQVMsbUJBQVQsQ0FBOEIsU0FBOUIsRUFBMEM7QUFDdEMsZUFBVyxJQUFYLENBQWlCLFNBQWpCO0FBQ0g7O0FBRUQsT0FBTyxnQkFBUCxDQUF5QixRQUF6QixFQUFtQyxZQUFXO0FBQzFDLFFBQUksSUFBSSxPQUFPLFVBQWY7QUFBQSxRQUNJLElBQUksT0FBTyxXQURmO0FBRUEsV0FBTyxNQUFQLEdBQWdCLElBQUksQ0FBcEI7QUFDQSxXQUFPLHNCQUFQO0FBQ0EsYUFBUyxPQUFULENBQWtCLENBQWxCLEVBQXFCLENBQXJCO0FBQ0gsQ0FORCxFQU1HLEtBTkg7O0FBU0E7OztBQUtBLElBQUksUUFBUSxJQUFJLEtBQUosQ0FBVSxZQUFWLEVBQXdCLE1BQXhCLENBQVo7O0FBRUEsU0FBUyxNQUFULENBQWdCLEVBQWhCLEVBQW9COztBQUVoQjtBQUNBLHdCQUFvQixFQUFwQjtBQUNBLGFBQVMsTUFBVCxDQUFpQixLQUFqQixFQUF3QixNQUF4QjtBQUNIOztBQUVEO0FBQ0EsU0FBUyxPQUFULEdBQW1CO0FBQ2YsMEJBQXVCLE9BQXZCO0FBQ0EsV0FBTyxNQUFNLFFBQU4sRUFBUDs7QUFFQTtBQUNIOztBQUlEO0FBQ0E7QUFDQTs7Ozs7QUMvS0EsUUFBUSxHQUFSLENBQVksUUFBWjs7Ozs7Ozs7O0FDQUE7O0FBRUE7QUFDQTs7Ozs7OztJQU9NLEs7QUFDRixtQkFBWSxNQUFaLEVBQW9CLE1BQXBCLEVBQWdFO0FBQUEsWUFBcEMsT0FBb0MsdUVBQTFCLElBQUksTUFBTSxPQUFWLENBQWtCLENBQWxCLEVBQW9CLENBQXBCLEVBQXNCLENBQXRCLENBQTBCOztBQUFBOztBQUM1RCxhQUFLLE1BQUwsR0FBYyxNQUFkO0FBQ0EsYUFBSyxNQUFMLEdBQWMsTUFBZDtBQUNBLGFBQUssQ0FBTCxHQUFTLE1BQVQ7QUFDQSxhQUFLLENBQUwsR0FBUyxDQUFUO0FBQ0EsYUFBSyxHQUFMLEdBQVcsQ0FBWDtBQUNBLGFBQUssR0FBTCxHQUFXLENBQVg7QUFDQSxhQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0g7Ozs7aUNBR1E7QUFDTCxpQkFBSyxNQUFMLENBQVksVUFBWixDQUF1QixLQUFLLEdBQUwsR0FBVyxFQUFsQztBQUNBLGlCQUFLLE1BQUwsQ0FBWSxVQUFaLENBQXVCLEtBQUssR0FBTCxHQUFXLEVBQWxDO0FBQ0EsaUJBQUssTUFBTCxDQUFZLE1BQVosQ0FBbUIsS0FBSyxPQUF4Qjs7QUFFQSxnQkFBSSxLQUFLLEdBQVQsRUFBYztBQUNWLHFCQUFLLENBQUwsSUFBVSxHQUFWO0FBQ0gsYUFGRCxNQUVPO0FBQ0gscUJBQUssQ0FBTCxJQUFVLEdBQVY7QUFDSDs7QUFFRCxnQkFBSSxLQUFLLEdBQVQsRUFBYztBQUNWLHFCQUFLLENBQUwsSUFBVSxHQUFWO0FBQ0gsYUFGRCxNQUVPO0FBQ0gscUJBQUssQ0FBTCxJQUFVLEdBQVY7QUFDSDs7QUFFRCxnQkFBSSxLQUFLLENBQUwsSUFBVSxLQUFLLE1BQWYsSUFBeUIsS0FBSyxDQUFMLElBQVUsQ0FBQyxLQUFLLE1BQTdDLEVBQXFEO0FBQ2pELHFCQUFLLEdBQUwsSUFBWSxLQUFLLEdBQWpCO0FBQ0g7O0FBRUQsZ0JBQUksS0FBSyxDQUFMLElBQVUsS0FBSyxNQUFmLElBQXlCLEtBQUssQ0FBTCxJQUFVLENBQUMsS0FBSyxZQUE3QyxFQUEyRDtBQUN2RCxxQkFBSyxHQUFMLElBQVksS0FBSyxHQUFqQjtBQUNIO0FBQ0o7Ozs7OztBQUdMLE9BQU8sT0FBUCxHQUFpQixLQUFqQjs7Ozs7QUNqREE7O0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfXJldHVybiBlfSkoKSIsIlxyXG5jb25zdCBhYnN0cmFjdHMgPSB7XHJcblxyXG4gICAgYmFja2dyb3VuZGNvbG9yOiAweGZlZmVmZSxcclxuICAgIGFjY2VudENvbG9yOiAweDU1ODhmZixcclxuXHJcbiAgICB0aGVtZU1vbm9Db2xvcjE6IDB4RjZGQUZCLFxyXG4gICAgdGhlbWVNb25vQ29sb3IyOiAweEMzQ0FDRCxcclxuICAgIHRoZW1lTW9ub0NvbG9yMzogMHg5N0ExQTQsXHJcbiAgICB0aGVtZU1vbm9Db2xvcjQ6IDB4NzE3QzgwLFxyXG4gICAgdGhlbWVNb25vQ29sb3I1OiAweDQ5NTY1QSxcclxuICAgIHRoZW1lTW9ub0NvbG9yNjogMHgxRjI4MkNcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBhYnN0cmFjdHM7IiwiY29uc3QgYWJzdHJhY3RzID0gcmVxdWlyZSgnLi4vYWJzdHJhY3RzJyk7XHJcbmNvbnN0IE9yYml0ID0gcmVxdWlyZSgnLi9vcmJpdCcpO1xyXG5cclxuLy8gQ29uc3RlbnRzXHJcblxyXG5jb25zdCBzY2VuZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjZW5lJyk7XHJcbmNvbnN0IEZMT09SX0xFVkVMID0gLTEwO1xyXG5jb25zdCBjYW1lcmFSYWRpdXMgPSA1O1xyXG5jb25zdCBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG5jb25zdCBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoIDc1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwICk7XHJcbmNvbnN0IHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcclxucmVuZGVyZXIuc2V0U2l6ZSggd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCApO1xyXG5cclxuLy8gVXNlZCBpbiBpbml0XHJcbmxldCBjbG9jaztcclxuXHJcbi8vIFVzZWQgaW4gaW5pdFBhcnRpY2xlc1xyXG5sZXQgZmxvb3JHcm91cDtcclxuXHJcbi8vIERlZmF1bHQgVmVjdG9yc1xyXG4vLyBQb3NpdGlvbiBiYXNlZCBvbiBmaWVsZFxyXG5sZXQgcG9zTWlkZGxlID0gbmV3IFRIUkVFLlZlY3RvcjMoNTAwLCAwLCA1MDApO1xyXG5sZXQgcG9zU2hvcnQgPSBuZXcgVEhSRUUuVmVjdG9yMygxMCwgMCwgMTApO1xyXG4vLyBSb3RhdGlvblxyXG4vLyBPYmplY3RzXHJcbi8vIEZsb29yIFRleHR1cmVcclxuXHJcbi8vIEluaXRcclxuZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRQYXJ0aWNsZXMoKSB7XHJcbiAgICBmbG9vckdyb3VwID0gbmV3IFNQRS5Hcm91cCh7XHJcbiAgICAgICAgdGV4dHVyZToge1xyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKCBcIi9hc3NldHMvaW1hZ2VzL3RleHR1cmVzL2dyYXNzX2JsYWRlLnBuZ1wiKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWF4UGFydGljbGVDb3VudDogNTAwMDAsXHJcbiAgICAgICAgaGFzUGVyc3BlY3RpdmU6IHRydWUsXHJcbiAgICAgICAgY29sb3JpemU6IHRydWUsXHJcbiAgICAgICAgYmxlbmRpbmc6IFRIUkVFLk5vcm1hbEJsZW5kaW5nLFxyXG4gICAgICAgIC8vIHRyYW5zcGFyZW50OiBmYWxzZSxcclxuICAgICAgICAvLyBhbHBoYVRlc3Q6IDUsXHJcbiAgICAgICAgLy8gZGVwdGhXcml0ZTogMCxcclxuICAgICAgICAvLyBmb2c6IDEsXHJcbiAgICAgICAgLy8gc2NhbGU6IDFcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBsZXQgZ3Jhc3NTaXplID0gMTtcclxuXHJcbiAgICBsZXQgZmxvb3JFbWl0dGVyID0gbmV3IFNQRS5FbWl0dGVyKHtcclxuICAgICAgICB0eXBlOiBTUEUuZGlzdHJpYnV0aW9ucy5TUEhFUkUsXHJcbiAgICAgICAgcGFydGljbGVDb3VudDogMTAwMDAsXHJcbiAgICAgICAgaXNTdGF0aWM6IGZhbHNlLFxyXG4gICAgICAgIG1heEFnZToge1xyXG4gICAgICAgICAgICB2YWx1ZTogMTAsXHJcbiAgICAgICAgICAgIHNwcmVhZDogM1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIEZMT09SX0xFVkVMIC0gKGdyYXNzU2l6ZS8yKSwgLTUwKSxcclxuICAgICAgICAgICAgcmFkaXVzOiAxLFxyXG4gICAgICAgICAgICByYWRpdXNTY2FsZTogbmV3IFRIUkVFLlZlY3RvcjMoNTAsIDAuMDAxLCA1MCksXHJcbiAgICAgICAgfSxcclxuICAgICAgICB3aWdnbGU6IHtcclxuICAgICAgICAgICAgdmFsdWU6IC4wMDAxLFxyXG4gICAgICAgICAgICBzcHJlYWQ6IC4wMDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbG9yOiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoJ2dyZWVuJylcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9wYWNpdHk6IHtcclxuICAgICAgICAgICAgdmFsdWU6IFswLCAxLCAxLCAxLCAxLCAwXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2l6ZToge1xyXG4gICAgICAgICAgICB2YWx1ZTogZ3Jhc3NTaXplXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhbmdsZToge1xyXG4gICAgICAgICAgICB2YWx1ZTogWzAuMiAsIC0xLCAwLjJdLFxyXG4gICAgICAgICAgICBzcHJlYWQ6IC41XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgZmxvb3JHcm91cC5hZGRFbWl0dGVyKGZsb29yRW1pdHRlcik7XHJcbiAgICBcclxuICAgIGZsb29yR3JvdXAubWF0ZXJpYWwuc2lkZSA9IFRIUkVFLkRvdWJsZVNpZGU7XHJcbiAgICBzY2VuZS5hZGQoZmxvb3JHcm91cC5tZXNoKTtcclxufVxyXG5cclxuXHJcbi8vIEZsb29yXHJcbmxldCBmbG9vckcgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoIDEwMDAsIDAuMSwgMTAwMCApO1xyXG5sZXQgZmxvb3JNID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKCB7IFxyXG4gICAgY29sb3I6IGFic3RyYWN0cy50aGVtZU1vbm9Db2xvcjEsXHJcbiAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXHJcbn0pO1xyXG5cclxubGV0IGZsb29yTWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBmbG9vckcsIGZsb29yTSApO1xyXG5mbG9vck1lc2gudHJhbnNsYXRlWShGTE9PUl9MRVZFTCk7XHJcbnNjZW5lLmFkZCggZmxvb3JNZXNoICk7XHJcblxyXG5cclxubGV0IGZhcldhbGxHID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KCAxMDAwMCwgMTAwMDAsIDAuMSk7XHJcbmxldCBmYXJXYWxsTSA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCggeyBjb2xvcjogYWJzdHJhY3RzLnRoZW1lTW9ub0NvbG9yMSB9ICk7XHJcbmxldCBmYXJXYWxsTWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBmYXJXYWxsRywgZmFyV2FsbE0gKTtcclxuZmFyV2FsbE1lc2gudHJhbnNsYXRlWigtNTAwKTtcclxuc2NlbmUuYWRkKCBmYXJXYWxsTWVzaCApO1xyXG5cclxubGV0IHRlc3RPQkpHID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KCAtMSwgMSwgMSk7XHJcbmxldCB0ZXN0T0JKTSA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCggeyBjb2xvcjogYWJzdHJhY3RzLmFjY2VudENvbG9yIH0gKTtcclxubGV0IHRlc3RPQkpNZXNoID0gbmV3IFRIUkVFLk1lc2goIHRlc3RPQkpHLCB0ZXN0T0JKTSApO1xyXG50ZXN0T0JKTWVzaC50cmFuc2xhdGVYKC0zKTtcclxudGVzdE9CSk1lc2gudHJhbnNsYXRlWSgwKTtcclxudGVzdE9CSk1lc2gudHJhbnNsYXRlWigwKTtcclxuc2NlbmUuYWRkKCB0ZXN0T0JKTWVzaCApO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIExpZ2h0c1xyXG5sZXQgbGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KCAweDAwMDBmZiwgMHgwMGZmMDAsIDEwICk7XHJcbnNjZW5lLmFkZCggbGlnaHQgKTtcclxuXHJcbmxldCBwb2ludExpZ2h0ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHgwMDAwMDAsIDAuMSwgMTAwMCk7XHJcbmxpZ2h0LnBvc2l0aW9uLnNldCggNTAsIDUwLCA1MCApO1xyXG5zY2VuZS5hZGQoIHBvaW50TGlnaHQgKTtcclxuXHJcbi8vIENhbWVyYVxyXG5jYW1lcmEucG9zaXRpb24ueiA9IGNhbWVyYVJhZGl1cztcclxuXHJcbnNjZW5lRWwuYXBwZW5kQ2hpbGQoIHJlbmRlcmVyLmRvbUVsZW1lbnQgKTtcclxuXHJcblxyXG4vLyBVcGRhdGVzIGFsbCBwYXJ0aWNhbCBncm91cFxyXG4vLyBQdXQgdGhpcyBmdW5jdGlvbiBpbnNpZGUgdGhlIHVwZGF0ZSBtZXRob2RcclxuZnVuY3Rpb24gcGFydGljbGVHcm91cFVwZGF0ZSggZGVsdGFUaW1lICkge1xyXG4gICAgZmxvb3JHcm91cC50aWNrKCBkZWx0YVRpbWUgKTtcclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCBmdW5jdGlvbigpIHtcclxuICAgIGxldCB3ID0gd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgICAgaCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIGNhbWVyYS5hc3BlY3QgPSB3IC8gaDtcclxuICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICByZW5kZXJlci5zZXRTaXplKCB3LCBoICk7XHJcbn0sIGZhbHNlICk7XHJcblxyXG5cclxuLy9sZXQgeCA9IDA7XHJcblxyXG5cclxuXHJcblxyXG5sZXQgb3JiaXQgPSBuZXcgT3JiaXQoY2FtZXJhUmFkaXVzLCBjYW1lcmEpO1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyKGR0KSB7XHJcbiAgICBcclxuICAgIC8vY2FtZXJhLnJvdGF0ZVkoKTtcclxuICAgIHBhcnRpY2xlR3JvdXBVcGRhdGUoZHQpO1xyXG4gICAgcmVuZGVyZXIucmVuZGVyKCBzY2VuZSwgY2FtZXJhICk7XHJcbn1cclxuXHJcbi8vIEFuaW1hdGVcclxuZnVuY3Rpb24gYW5pbWF0ZSgpIHtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSggYW5pbWF0ZSApO1xyXG4gICAgcmVuZGVyKGNsb2NrLmdldERlbHRhKCkpO1xyXG5cclxuICAgIC8vb3JiaXQudXBkYXRlKCk7XHJcbn1cclxuXHJcblxyXG5cclxuaW5pdCgpO1xyXG5pbml0UGFydGljbGVzKCk7XHJcbmFuaW1hdGUoKTsiLCJjb25zb2xlLmxvZygndGVzdDEyJyk7IiwiLy8gQWxsb3cgdGhlIGNhbWVyYSB0byBvcmJpdCBhcm91bmRcclxuXHJcbi8vIFRPRE8gYWRkIGNhbWVyYSBpbml0IHBvc2l0aW9uXHJcbi8qXHJcbiogcmFkaXVzIC0gcmFkaXVzIHRvIG9yYml0XHJcbiogY2FtZXJhIC0gc2NlbmUgY2FtZXJhIHRvIG1vdmVcclxuKiBsb29wUG9zIC0gUG9zaXRpb24gdG8gbG9va0F0XHJcblxyXG4qIHVwZGF0ZSAtIFJ1biB0byBjb250aW51b3VzbHkgdXBkYXRlIHRoZSBjYW1lcmFcclxuKi9cclxuY2xhc3MgT3JiaXQge1xyXG4gICAgY29uc3RydWN0b3IocmFkaXVzLCBjYW1lcmEsIGxvb2tQb3MgPSBuZXcgVEhSRUUuVmVjdG9yMygwLDAsMCkpIHtcclxuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IGNhbWVyYTtcclxuICAgICAgICB0aGlzLnogPSByYWRpdXM7XHJcbiAgICAgICAgdGhpcy54ID0gMDtcclxuICAgICAgICB0aGlzLnpVcCA9IDA7XHJcbiAgICAgICAgdGhpcy54VXAgPSAxO1xyXG4gICAgICAgIHRoaXMubG9va1BvcyA9IGxvb2tQb3M7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEudHJhbnNsYXRlWih0aGlzLnpVcCAvIDgwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2xhdGVYKHRoaXMueFVwIC8gODApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdCh0aGlzLmxvb2tQb3MpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy56VXApIHtcclxuICAgICAgICAgICAgdGhpcy56ICs9IDAuMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnogLT0gMC4xO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMueFVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCArPSAwLjE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy54IC09IDAuMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnggPj0gdGhpcy5yYWRpdXMgfHwgdGhpcy54IDw9IC10aGlzLnJhZGl1cykge1xyXG4gICAgICAgICAgICB0aGlzLnhVcCAhPSB0aGlzLnhVcFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMueiA+PSB0aGlzLnJhZGl1cyB8fCB0aGlzLnogPD0gLXRoaXMuY2FtZXJhUmFkaXVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuelVwICE9IHRoaXMuelVwXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IE9yYml0OyIsImltcG9ydCAnLi9jb21wb25lbnRzL2JhY2tncm91bmQnO1xyXG5pbXBvcnQgJy4vY29tcG9uZW50cy9iaXJkcyc7XHJcbiJdfQ=="}