{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/abstracts.js","src/js/components/grab-assets.js","src/js/components/vr-arm-item-selector.js","src/js/components/vr-arm-preview-icon.js","src/js/components/vr-eraser-toggle.js","src/js/components/vr-eraser.js","src/js/main.js","src/js/projects/vr-mechanism.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","\r\nconst abstracts = {\r\n\r\n    backgroundcolor: 0xfefefe,\r\n    accentColor: 0x5588ff,\r\n    skyColor: 0x87CEFA,\r\n    groudColor: 0x3CB371,\r\n    warmColor: 0xe5a665,\r\n\r\n    themeMonoColor1: 0xF6FAFB,\r\n    themeMonoColor2: 0xC3CACD,\r\n    themeMonoColor3: 0x97A1A4,\r\n    themeMonoColor4: 0x717C80,\r\n    themeMonoColor5: 0x49565A,\r\n    themeMonoColor6: 0x1F282C,\r\n\r\n    particles: {\r\n        FLOOR_LEVEL: -10\r\n    }\r\n}\r\n\r\nmodule.exports = abstracts;","// Must be placed on controller elements\r\nAFRAME.registerComponent('grab-assets', {\r\n    schema: {},\r\n    init: function() {\r\n        this.controller = this.el;\r\n\r\n        //this.el.\r\n\r\n        this.assetWorldPos = new THREE.Vector3();\r\n        this.currentAssetEl = undefined;              // The assets element\r\n        this.updateAsset = false;                   // Whether to continuously update the assets being grabbed\r\n\r\n        //this.currentAssetQuaternion = new THREE.Quaternion();\r\n        this.secondaryCtrlQuanternion = new THREE.Quaternion();\r\n        this.startingAssetQuanternion = new THREE.Quaternion();\r\n        this.startingCtrlQuanternion = new THREE.Quaternion();\r\n        this.deltaCtrlQuanternion = new THREE.Quaternion();\r\n        this.finalAssetQuanternion = new THREE.Quaternion();\r\n        //this.icons = document.querySelectorAll('[preview-icon]')\r\n        \r\n        // When the controller tigger is pressed down\r\n        this.controller.addEventListener('triggerdown', (e) => {\r\n            console.log('trigger down');\r\n            // The controller can either be \"free\" or \"colliding\" as specified in the main.js file\r\n            // Colliding refers to colliding with a preview-icon\r\n            if (this.controller.is('colliding')) {\r\n                try {\r\n                    let assetEl = this.el.components['aabb-collider']['intersectedEls'][0];\r\n                    let assetData = undefined; \r\n                    if (assetEl) {\r\n                        if (assetEl.components['preview-icon']) {\r\n                            // Preview Icon Click\r\n                            assetData = assetEl.components['preview-icon'].data;\r\n                            this.createAsset(assetData.obj, assetData.mtl);\r\n                        } else if (assetEl.components['obj-model']) {\r\n                            // Object Model Clicked\r\n                            this.updateExistingAsset(assetEl);\r\n                        } else if (assetEl.components['vr-eraser-toggle']) {\r\n                            console.log(\"vr-eraser toggle\");\r\n                            assetEl.emit('click', {el: this.el});\r\n                        }\r\n                    }\r\n                    console.log('colliding');\r\n                } catch (e) {\r\n                    console.log(e);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.controller.addEventListener('triggerup', (e) => {\r\n            if (this.controller.is('colliding')) {\r\n                console.log('colliding');\r\n            }\r\n            this.updateAsset = false;\r\n            console.log('trigger up');\r\n        });\r\n    },\r\n    update: function () {},\r\n    tick: function () {\r\n        if (this.updateAsset !== false && this.currentAssetEl !== undefined) {\r\n            let worldPos = this.calcWorldPos(this.el.object3D.matrixWorld);\r\n            this.currentAssetEl.setAttribute('position', `${worldPos.x} ${worldPos.y} ${worldPos.z}`);\r\n            \r\n            this.secondaryCtrlQuanternion.copy(this.el.object3D.getWorldQuaternion());\r\n            this.secondaryCtrlQuanternion.normalize();\r\n            //this.startingAssetQuanternion(\r\n            //this.deltaCtrlQuanternion.inverse();\r\n\r\n            this.deltaCtrlQuanternion.multiplyQuaternions(this.secondaryCtrlQuanternion, this.startingCtrlQuanternion);\r\n            this.finalAssetQuanternion.multiplyQuaternions(this.deltaCtrlQuanternion, this.startingAssetQuanternion);\r\n            \r\n            //console.log(this.currentAssetQuaternion);\r\n            //this.currentAssetQuaternion.multiply(this.el.object3D.getWorldQuaternion());\r\n            // Rotation\r\n            //.applyQuaternion(this.el.object3D.getWorldQuaternion());\r\n            this.currentAssetEl.object3D.setRotationFromQuaternion(this.finalAssetQuanternion);\r\n            //this.currentAssetEl.object3D.setRotationFromQuaternion(this.el.object3D.getWorldQuaternion());\r\n\r\n        } else {\r\n            //console.log('update', this.updateAsset, 'asset', this.currentAssetEl);\r\n            //console.log('asset', this.currentAsset);\r\n        }\r\n    },\r\n    remove: function () {},\r\n    pause: function () {},\r\n    play: function () {},\r\n\r\n    createAsset(objUrl, mtlUrl) {\r\n        this.currentAssetEl = document.createElement('a-entity');\r\n        this.currentAssetEl.setAttribute('obj-model', {\r\n            obj: objUrl,\r\n            mtl: mtlUrl\r\n        });\r\n\r\n        this.currentAssetEl.setAttribute('scale', '0.01 0.01 0.01');\r\n        this.currentAssetEl.setAttribute('class', 'collides');\r\n\r\n        console.log('POSITION');\r\n\r\n        //this.calcWorldPos(this.el.object3D.matrixWorld);\r\n        //this.currentAssetEl.setAttribute('position', `${this.assetWorldPos.x} ${this.assetWorldPos.y} ${this.assetWorldPos.z}`);\r\n        \r\n        //this.currentAssetQuaternion.copy(this.currentAssetEl.object3D.getWorldQuaternion());\r\n        this.startingAssetQuanternion.copy(this.currentAssetEl.object3D.getWorldQuaternion());\r\n        this.startingAssetQuanternion.normalize();\r\n\r\n        this.startingCtrlQuanternion.copy(this.el.object3D.getWorldQuaternion());\r\n        this.startingCtrlQuanternion.inverse();\r\n        //this.startingCtrlQuanternion.normalize();\r\n\r\n        this.el.sceneEl.appendChild(this.currentAssetEl);\r\n        this.currentAssetEl.flushToDOM();\r\n        this.updateAsset = true;\r\n    },\r\n\r\n    updateExistingAsset(assetEl) {\r\n\r\n        this.currentAssetEl = assetEl;\r\n\r\n        this.startingAssetQuanternion.copy(this.currentAssetEl.object3D.getWorldQuaternion());\r\n        this.startingAssetQuanternion.normalize();\r\n\r\n        this.startingCtrlQuanternion.copy(this.el.object3D.getWorldQuaternion());\r\n        this.startingCtrlQuanternion.inverse();\r\n        //this.startingCtrlQuanternion.normalize();\r\n\r\n        //this.currentAssetEl.object3D.setRotationFromQuaternion(this.startingAssetQuanternion);\r\n        this.updateAsset = true;\r\n    },\r\n\r\n    calcWorldPos(elementMatrix) {\r\n        return this.assetWorldPos.setFromMatrixPosition(elementMatrix);\r\n    },\r\n\r\n\r\n  });","AFRAME.registerComponent('item-selector', {\r\n    schema: {\r\n        // size: {type: 'vec2', default: {x:0.5, y:0.2}}\r\n        // Contain a list of objects\r\n        // ex: {\r\n        //      name:    // Name of object\r\n        //      obj:     // 3D object location\r\n        //      preview: // Preview image location\r\n        // }\r\n        assetList: {type: 'string', default: \"[]\"}\r\n    },\r\n\r\n    init: function () {\r\n\r\n        console.log(this.data.assetList);\r\n\r\n        this.assetList = [];\r\n\r\n        // Display rectangle\r\n        let displayG = new THREE.BoxBufferGeometry(0.3, 0.01, 0.5);\r\n        let displayM = new THREE.MeshBasicMaterial({\r\n            color: 0xbbbbff,\r\n            side: 'double'\r\n        });\r\n        this.displayMesh = new THREE.Mesh(displayG, displayM);\r\n\r\n        this.el.setObject3D('mesh', this.displayMesh);\r\n        this.el.setAttribute('position', '-0.1 0.3 0.1');\r\n        this.el.setAttribute('rotation', '0 0 -75');\r\n\r\n        // Add Labels\r\n        let assetText = document.createElement('a-text');\r\n        assetText.setAttribute('value', 'Assets');\r\n        assetText.setAttribute('rotation', '-90 90 0');\r\n        assetText.setAttribute('scale', '0.1 0.1 0.1');\r\n        assetText.setAttribute('position', '-0.11 0.01 0.24');\r\n        assetText.setAttribute('color', '#010101');\r\n\r\n        this.el.appendChild(assetText);\r\n\r\n        let toolsText = document.createElement('a-text');\r\n        toolsText.setAttribute('rotation', '-90 90 0');\r\n        toolsText.setAttribute('scale', '0.1 0.1 0.1');\r\n        toolsText.setAttribute('position', '0.03 0.01 0.24');\r\n        toolsText.setAttribute('color', '#010101');\r\n        toolsText.setAttribute('value', 'Tools');\r\n        this.el.appendChild(toolsText);\r\n        \r\n        // Add Tools\r\n        // Adding Remover Tool\r\n        let removerTool = document.createElement('a-entity');\r\n        removerTool.setAttribute('vr-eraser-toggle', \"\");\r\n        removerTool.setAttribute('position', \"0.08 0.01 0.21\");\r\n        this.el.appendChild(removerTool);\r\n\r\n\r\n        // Preview Icon Container\r\n        const ICON_HEIGHT = 0.05;\r\n        const ICON_WIDTH = 0.05;\r\n        this.ICON_OFFSET = 0.21;\r\n        this.ICON_MULTIPLYER = 0.08;\r\n\r\n        let previewIconContainerG = new THREE.BoxBufferGeometry(ICON_HEIGHT, 0.01, ICON_WIDTH);\r\n        let previewIconContainerM = new THREE.MeshBasicMaterial({\r\n            color: 0x999999,\r\n            side: 'double'\r\n        });\r\n        this.previewIconContainerMesh = new THREE.Mesh(displayG, displayM);\r\n    },\r\n    update: function () {\r\n\r\n        // Setup assertList\r\n        try {\r\n            this.assetList = JSON.parse(this.data.assetList);\r\n            this.updateAssetList(this.assetList);\r\n        } catch(e) {\r\n            throw new Error(e);\r\n        }\r\n    },\r\n    tick: function () {},\r\n    remove: function () {},\r\n    pause: function () {},\r\n    play: function () {},\r\n\r\n    updateAssetList(newAssetList) {\r\n        // TODO: Remove all previous elements from the list\r\n        // if (this.currentAssetElements.length > 0) {\r\n        //     this.currentAssetElements.forEach((asset) => {\r\n        //         this.el.removeObject3D(asset.name. asset.mesh);\r\n        //     });\r\n        // }\r\n        console.log('hit1');\r\n        if (newAssetList.length > 0) {\r\n            newAssetList.forEach((asset, i) => {\r\n                console.log('Asset' , asset);\r\n                console.log('hit inside');\r\n                //this.el.setObject3D('icon_' + i, this.displayMesh);\r\n                let icon = document.createElement('a-entity');\r\n                \r\n                icon.setAttribute('preview-icon', `name: ${asset.name}; obj: ${asset.obj}; mtl: ${asset.mtl}; previewImage: ${asset.previewImage}`);\r\n                icon.setAttribute('position', `-0.045 0.01 ${(-i*this.ICON_MULTIPLYER) + this.ICON_OFFSET}`);\r\n                this.el.appendChild(icon);\r\n                \r\n                console.log('Element Created');\r\n            });\r\n        }\r\n        \r\n        //this.el.setObject3D('icon_1', this.displayMesh);\r\n        //this.el.setAttribute('position', '-0.2 0 0.1');\r\n    }\r\n  });","AFRAME.registerComponent('preview-icon', {\r\n    schema: {\r\n        name: {type: \"string\", default: \"temp\"},\r\n        previewImage: {type: \"string\", 'default': ''},\r\n        obj: {type: \"string\", default: ''},\r\n        mtl: {type: \"string\", default: ''},\r\n        collisionObjs: {type: \"array\", default: []}\r\n    },\r\n\r\n    init: function () {\r\n        const ICON_HEIGHT = 0.05;\r\n        const ICON_WIDTH = 0.05;\r\n\r\n        // Preview Icons\r\n        this.assetElementsMap = [];\r\n        let startPos = this.el.getAttribute('position');\r\n\r\n        this.previewObj = null;\r\n\r\n        let previewIconG = new THREE.BoxBufferGeometry(ICON_HEIGHT, 0.01, ICON_WIDTH);\r\n        let previewIconM = new THREE.MeshBasicMaterial({\r\n            color: 0xeeeeee,\r\n            side: 'double'\r\n        });\r\n\r\n        // Adds image to icon(button) if present\r\n        let image = this.getImage();\r\n        if (image !== null) {\r\n            previewIconM.map = image;\r\n        }\r\n\r\n        this.previewIconMesh = new THREE.Mesh(previewIconG, previewIconM);\r\n        // Aligns Picture Icon in the correct orientation\r\n        this.previewIconMesh.rotateY(Math.PI/2);\r\n        this.el.setObject3D('mesh', this.previewIconMesh);\r\n\r\n\r\n        // Pressing Animations\r\n        let animationDown = document.createElement('a-animation');\r\n        animationDown.setAttribute('attribute', \"position\");\r\n        animationDown.setAttribute('dur', \"100\");\r\n        animationDown.setAttribute('to', `${startPos.x} ${startPos.y + -0.005} ${startPos.z}`);\r\n        animationDown.setAttribute('begin', \"down\");\r\n        this.el.appendChild(animationDown);\r\n\r\n        let animationUp = document.createElement('a-animation');\r\n        animationUp.setAttribute('attribute', \"position\");\r\n        animationUp.setAttribute('dur', \"100\");\r\n        animationUp.setAttribute('to', `${startPos.x} ${startPos.y} ${startPos.z}`);\r\n        animationUp.setAttribute('begin', \"up\");\r\n        this.el.appendChild(animationUp);\r\n\r\n        this.el.flushToDOM();\r\n\r\n        // Check if preview obj is present\r\n        if (this.data.obj !== '' && this.data.mtl !== '') {\r\n\r\n            // Create preview Obj\r\n            this.previewObj = document.createElement('a-entity');\r\n            this.previewObj.setAttribute('obj-model', {\r\n                obj: this.data.obj,\r\n                mtl: this.data.mtl\r\n            });\r\n\r\n            this.previewObj.setAttribute('scale', '0.01 0.01 0.01');\r\n            this.previewObj.setAttribute('position', '-0.12 0 0');\r\n            this.previewObj.setAttribute('rotation', '-90 0 90');\r\n            // this.previewObj.setAttribute('material', 'visible: false');\r\n\r\n            this.previewObj.flushToDOM();\r\n        } else {\r\n            console.warn(`Data obj not found on`, this.el);\r\n        }\r\n\r\n        //this.el.flushToDOM();\r\n        //this.el.setAttribute('position', '-0.2 0.1 0.1');\r\n    \r\n\r\n        // Sets aframe extra's sphere collider onto icon\r\n        //this.el.setAttribute('class', \"preview-icon\");\r\n        this.el.setAttribute('aabb-collider', 'objects: [hand-controls]');\r\n        this.el.setAttribute('class', 'collides');\r\n        \r\n        this.el.addEventListener('hitstart', (e) => {\r\n            console.log(\"HIT HAS HAPPENED\");\r\n            this.el.emit('down');\r\n            this.addPreviewObj();\r\n        });\r\n\r\n        this.el.addEventListener('hitend', (e) => {\r\n            console.log(\"HIT END HAS HAPPENED\");\r\n            this.el.emit('up');\r\n            this.removePreviewObj();\r\n        });\r\n\r\n                \r\n                \r\n                //previewObj.material.wireframe = true;\r\n                console.log('ICON', this.el); \r\n    },\r\n    update: function () {},\r\n    tick: function () {},\r\n    remove: function () {},\r\n    pause: function () {},\r\n    play: function () {},\r\n\r\n    getImage() {\r\n        let previewImage = this.data.previewImage;\r\n        if (previewImage !== 'undefined' && previewImage !== undefined) {\r\n            try {\r\n                let image = THREE.ImageUtils.loadTexture(previewImage);\r\n                return image;\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n\r\n    addPreviewObj() {\r\n        if (this.previewObj) {\r\n            this.el.appendChild(this.previewObj);\r\n        }\r\n    },\r\n\r\n    removePreviewObj() {\r\n        let preObj = this.el.querySelector('a-entity[obj-model]');\r\n        if (preObj) {\r\n            this.el.removeChild(preObj);\r\n        } else {\r\n            console.log('No preview object to remove');\r\n        }\r\n    },\r\n\r\n    previewObjVisible() {\r\n        let preObj = this.el.querySelector('a-entity[obj-model]');\r\n        if (preObj) {\r\n            preObj.setAttribute('material', 'visible: true');\r\n        } else {\r\n            console.log('No preview object found');\r\n        }\r\n    },\r\n\r\n    hidePreviewObj() {\r\n        let preObj = this.el.querySelector('a-entity[obj-model]');\r\n        if (preObj) {\r\n            preObj.setAttribute('material', 'visible: false');\r\n        } else {\r\n            console.log('No preview object found');\r\n        }\r\n    }\r\n  });","AFRAME.registerComponent('vr-eraser-toggle', {\r\n    // This is a controller tool. Must be placed on the controller element.\r\n    schema: {},\r\n\r\n    init: function () {\r\n        // Variables\r\n        this.eraserActive = false;\r\n\r\n        // Eraser Tool Rectangle\r\n        let etGeo = new THREE.BoxBufferGeometry(0.025, 0.01, 0.05);\r\n        let etMat = new THREE.MeshBasicMaterial({\r\n            color: '#e8a5a0'\r\n        });\r\n        this.etMesh = new THREE.Mesh(etGeo, etMat);\r\n        \r\n        // Placeholder for the Eraser\r\n        let pGeo = new THREE.BoxBufferGeometry(0.025, 0.001, 0.05);\r\n        let pMat = new THREE.MeshBasicMaterial({\r\n            color: '#C5344A',\r\n            wireframe: true\r\n        });\r\n        this.pMesh = new THREE.Mesh(pGeo, pMat);\r\n\r\n        this.el.setObject3D('et', this.etMesh);\r\n        // Must be called 'mesh' in order for aabb colider to work\r\n        this.el.setObject3D('mesh', this.pMesh);\r\n\r\n\r\n        // Text\r\n        // Todo: A tool UI component should be created that has the option of text instead of creating tool specific text and icons here.\r\n        let eraserText = document.createElement('a-text');\r\n        eraserText.setAttribute('value', 'Eraser');\r\n        eraserText.setAttribute('rotation', '-90 90 0');\r\n        eraserText.setAttribute('scale', '0.05 0.05 0.05');\r\n        eraserText.setAttribute('position', '0.03 0 0.02');\r\n        eraserText.setAttribute('color', '#010101');\r\n        this.el.appendChild(eraserText);\r\n\r\n\r\n        this.el.flushToDOM();\r\n\r\n        // Set collider\r\n        this.el.setAttribute('aabb-collider', 'objects: [hand-controls]');\r\n        this.el.setAttribute('class', 'collides');\r\n        this.el.flushToDOM();\r\n\r\n        // Event Listeners\r\n        this.el.addEventListener('click', (e) => {\r\n            let targetEl = e.detail.el;\r\n            console.log('targetEl');\r\n            console.log(targetEl);\r\n            if (this.eraserActive) {\r\n                this.removeEraser(targetEl);\r\n                this.eraserActive = false;\r\n                console.log(\"Remove Eraser\");\r\n            } else {\r\n                this.attachEraser(targetEl);\r\n                this.eraserActive = true;\r\n                console.log(\"Add Eraser\")\r\n            }\r\n        });\r\n    },\r\n    update: function () {},\r\n    tick: function () {},\r\n    remove: function () {},\r\n    pause: function () {},\r\n    play: function () {},\r\n\r\n    attachEraser(controllerEl) {\r\n        if (controllerEl) {\r\n            controllerEl.setAttribute('vr-eraser', \"\");\r\n            this.el.removeObject3D('et');\r\n        }\r\n    },\r\n    \r\n\r\n    removeEraser(controllerEl) {\r\n        if (controllerEl) {\r\n            controllerEl.removeAttribute('vr-eraser');\r\n            this.el.setObject3D('et', this.etMesh);\r\n        }\r\n    },\r\n  });","AFRAME.registerComponent('vr-eraser', {\r\n    // This is a controller tool. Must be placed on the controller element.\r\n    schema: {},\r\n\r\n    init: function () {\r\n        this.controller = this.el;\r\n\r\n\r\n        // Variables\r\n        this.eraserHover = false;\r\n        this.previousAssetHit = undefined;                          // Tracks the previous asset the eraser was in contact with\r\n\r\n\r\n        // Set Eraser\r\n        let eraserGeo = new THREE.CubeGeometry(0.05, 0.1, 0.02);\r\n        let eraserMat = new THREE.MeshBasicMaterial({\r\n            color: '#e8a5a0'\r\n        });\r\n\r\n        this.eraserMesh = new THREE.Mesh(eraserGeo, eraserMat);\r\n        this.eraserMesh.translateZ(-0.1);\r\n        this.eraserMesh.rotateX(Math.PI/2);\r\n        this.el.setObject3D('eraser', this.eraserMesh);\r\n        this.el.setAttribute('aabb-collider', 'objects: .collides');\r\n\r\n\r\n        // Deletion Detection Box\r\n        let ddBoxGeo = new THREE.CubeGeometry(25, 25, 25);\r\n        let ddBoxMat = new THREE.MeshBasicMaterial({\r\n            color: '#ff0000',\r\n            wireframe: true\r\n        });\r\n\r\n        this.ddBoxMesh = new THREE.Mesh(ddBoxGeo, ddBoxMat);\r\n\r\n\r\n        this.el.flushToDOM();\r\n\r\n        this.events = { \r\n            hitstart: ((e) => {\r\n\r\n                let assetEl = this.el.components['aabb-collider']['intersectedEls'][0];\r\n    \r\n                // Create a bounding box if the element is an object model\r\n                if (assetEl) {\r\n                    if (assetEl.components['obj-model']) {\r\n                        // Object Model Clicked\r\n                        //let boundingBox = new THREE.BoundingBoxHelper(assetEl.getObject3D('mesh'), 0xff0000);\r\n                        //this.el.sceneEl.add(boundingBox);\r\n                        assetEl.setObject3D('ddBox', this.ddBoxMesh);\r\n                        this.previousAssetHit = assetEl;\r\n                    }\r\n                }\r\n                \r\n    \r\n                console.log(\"Eraser HIT\");\r\n                this.eraserHover = true;\r\n                this.eraserMesh.material.color.setHex(0xFF0000);\r\n            }),\r\n            hitend: ((e) => {\r\n\r\n                // Remove a bounding box if the element is an object model\r\n                if (this.previousAssetHit) {\r\n                    this.previousAssetHit.removeObject3D('ddBox');\r\n                    this.previousAssetHit = undefined;\r\n                }\r\n    \r\n                console.log(\"Eraser END\");\r\n                this.eraserHover = false;\r\n                this.eraserMesh.material.color.setHex(0xCC6666);\r\n            }),\r\n            triggerdown: ((e) => {\r\n                console.log('trigger down');\r\n                // The controller can either be \"free\" or \"colliding\" as specified in the main.js file\r\n                // Colliding refers to colliding with a preview-icon\r\n                if (this.controller.is('colliding')) {\r\n                    try {\r\n                        let assetEl = this.el.components['aabb-collider']['intersectedEls'][0];\r\n                        let assetData = undefined; \r\n                        if (assetEl) {\r\n                            if (assetEl.components['obj-model']) {\r\n                                assetEl.parentNode.removeChild(assetEl);\r\n                            }\r\n                        }\r\n                        console.log('colliding');\r\n                    } catch (e) {\r\n                        console.log(e);\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        this.el.addEventListener('hitstart', this.events.hitstart);\r\n        this.el.addEventListener('hitend', this.events.hitend);\r\n        this.el.addEventListener('triggerdown', this.events.triggerdown);\r\n        \r\n    },\r\n    update: function () {},\r\n    tick: function () {},\r\n    remove: function () {\r\n        this.el.removeEventListener('hitstart', this.events.hitstart);\r\n        this.el.removeEventListener('hitend', this.events.hitend);\r\n        this.el.removeEventListener('triggerdown', this.events.triggerdown);\r\n\r\n        this.el.removeObject3D('eraser');\r\n    },\r\n    pause: function () {},\r\n    play: function () {},\r\n  });","//import './components/background';\r\n//import './components/birds';\r\n\r\n//import './components/vr-background-nav';\r\n\r\nimport './projects/vr-mechanism';\r\nimport './components/vr-arm-item-selector';\r\nimport './components/vr-arm-preview-icon';\r\nimport './components/grab-assets';\r\nimport './components/vr-eraser';\r\nimport './components/vr-eraser-toggle';\r\n\r\nconst abstracts = require('./abstracts');","\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ2ci1tZWNoYW5pc20uanMiLCJzb3VyY2VzQ29udGVudCI6W119"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYWJzdHJhY3RzLmpzIiwic3JjL2pzL2NvbXBvbmVudHMvZ3JhYi1hc3NldHMuanMiLCJzcmMvanMvY29tcG9uZW50cy92ci1hcm0taXRlbS1zZWxlY3Rvci5qcyIsInNyYy9qcy9jb21wb25lbnRzL3ZyLWFybS1wcmV2aWV3LWljb24uanMiLCJzcmMvanMvY29tcG9uZW50cy92ci1lcmFzZXItdG9nZ2xlLmpzIiwic3JjL2pzL2NvbXBvbmVudHMvdnItZXJhc2VyLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvcHJvamVjdHMvdnItbWVjaGFuaXNtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNDQSxJQUFNLFlBQVk7O0FBRWQscUJBQWlCLFFBRkg7QUFHZCxpQkFBYSxRQUhDO0FBSWQsY0FBVSxRQUpJO0FBS2QsZ0JBQVksUUFMRTtBQU1kLGVBQVcsUUFORzs7QUFRZCxxQkFBaUIsUUFSSDtBQVNkLHFCQUFpQixRQVRIO0FBVWQscUJBQWlCLFFBVkg7QUFXZCxxQkFBaUIsUUFYSDtBQVlkLHFCQUFpQixRQVpIO0FBYWQscUJBQWlCLFFBYkg7O0FBZWQsZUFBVztBQUNQLHFCQUFhLENBQUM7QUFEUDtBQWZHLENBQWxCOztBQW9CQSxPQUFPLE9BQVAsR0FBaUIsU0FBakI7Ozs7O0FDckJBO0FBQ0EsT0FBTyxpQkFBUCxDQUF5QixhQUF6QixFQUF3QztBQUNwQyxZQUFRLEVBRDRCO0FBRXBDLFVBQU0sZ0JBQVc7QUFBQTs7QUFDYixhQUFLLFVBQUwsR0FBa0IsS0FBSyxFQUF2Qjs7QUFFQTs7QUFFQSxhQUFLLGFBQUwsR0FBcUIsSUFBSSxNQUFNLE9BQVYsRUFBckI7QUFDQSxhQUFLLGNBQUwsR0FBc0IsU0FBdEIsQ0FOYSxDQU1pQztBQUM5QyxhQUFLLFdBQUwsR0FBbUIsS0FBbkIsQ0FQYSxDQU8rQjs7QUFFNUM7QUFDQSxhQUFLLHdCQUFMLEdB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RSxDQWpHWTtBQWtHbEMsVUFBTSxnQkFBWSxDQUFFLENBbEdjO0FBbUdsQyxZQUFRLGtCQUFZO0FBQ2hCLGFBQUssRUFBTCxDQUFRLG1CQUFSLENBQTRCLFVBQTVCLEVBQXdDLEtBQUssTUFBTCxDQUFZLFFBQXBEO0FBQ0EsYUFBSyxFQUFMLENBQVEsbUJBQVIsQ0FBNEIsUUFBNUIsRUFBc0MsS0FBSyxNQUFMLENBQVksTUFBbEQ7QUFDQSxhQUFLLEVBQUwsQ0FBUSxtQkFBUixDQUE0QixhQUE1QixFQUEyQyxLQUFLLE1BQUwsQ0FBWSxXQUF2RDs7QUFFQSxhQUFLLEVBQUwsQ0FBUSxjQUFSLENBQXVCLFFBQXZCO0FBQ0gsS0F6R2lDO0FBMEdsQyxXQUFPLGlCQUFZLENBQUUsQ0ExR2E7QUEyR2xDLFVBQU0sZ0JBQVksQ0FBRTtBQTNHYyxDQUF0Qzs7Ozs7QUNLQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFWQTtBQUNBOztBQUVBOztBQVNBLElBQU0sWUFBWSxRQUFRLGFBQVIsQ0FBbEI7OztBQ1pBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfXJldHVybiBlfSkoKSIsIlxyXG5jb25zdCBhYnN0cmFjdHMgPSB7XHJcblxyXG4gICAgYmFja2dyb3VuZGNvbG9yOiAweGZlZmVmZSxcclxuICAgIGFjY2VudENvbG9yOiAweDU1ODhmZixcclxuICAgIHNreUNvbG9yOiAweDg3Q0VGQSxcclxuICAgIGdyb3VkQ29sb3I6IDB4M0NCMzcxLFxyXG4gICAgd2FybUNvbG9yOiAweGU1YTY2NSxcclxuXHJcbiAgICB0aGVtZU1vbm9Db2xvcjE6IDB4RjZGQUZCLFxyXG4gICAgdGhlbWVNb25vQ29sb3IyOiAweEMzQ0FDRCxcclxuICAgIHRoZW1lTW9ub0NvbG9yMzogMHg5N0ExQTQsXHJcbiAgICB0aGVtZU1vbm9Db2xvcjQ6IDB4NzE3QzgwLFxyXG4gICAgdGhlbWVNb25vQ29sb3I1OiAweDQ5NTY1QSxcclxuICAgIHRoZW1lTW9ub0NvbG9yNjogMHgxRjI4MkMsXHJcblxyXG4gICAgcGFydGljbGVzOiB7XHJcbiAgICAgICAgRkxPT1JfTEVWRUw6IC0xMFxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGFic3RyYWN0czsiLCIvLyBNdXN0IGJlIHBsYWNlZCBvbiBjb250cm9sbGVyIGVsZW1lbnRzXHJcbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnZ3JhYi1hc3NldHMnLCB7XHJcbiAgICBzY2hlbWE6IHt9LFxyXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gdGhpcy5lbDtcclxuXHJcbiAgICAgICAgLy90aGlzLmVsLlxyXG5cclxuICAgICAgICB0aGlzLmFzc2V0V29ybGRQb3MgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEFzc2V0RWwgPSB1bmRlZmluZWQ7ICAgICAgICAgICAgICAvLyBUaGUgYXNzZXRzIGVsZW1lbnRcclxuICAgICAgICB0aGlzLnVwZGF0ZUFzc2V0ID0gZmFsc2U7ICAgICAgICAgICAgICAgICAgIC8vIFdoZXRoZXIgdG8gY29udGludW91c2x5IHVwZGF0ZSB0aGUgYXNzZXRzIGJlaW5nIGdyYWJiZWRcclxuXHJcbiAgICAgICAgLy90aGlzLmN1cnJlbnRBc3NldFF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xyXG4gICAgICAgIHRoaXMuc2Vjb25kYXJ5Q3RybFF1YW50ZXJuaW9uID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcclxuICAgICAgICB0aGlzLnN0YXJ0aW5nQXNzZXRRdWFudGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgdGhpcy5zdGFydGluZ0N0cmxRdWFudGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgdGhpcy5kZWx0YUN0cmxRdWFudGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgdGhpcy5maW5hbEFzc2V0UXVhbnRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xyXG4gICAgICAgIC8vdGhpcy5pY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1twcmV2aWV3LWljb25dJylcclxuICAgICAgICBcclxuICAgICAgICAvLyBXaGVuIHRoZSBjb250cm9sbGVyIHRpZ2dlciBpcyBwcmVzc2VkIGRvd25cclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcigndHJpZ2dlcmRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndHJpZ2dlciBkb3duJyk7XHJcbiAgICAgICAgICAgIC8vIFRoZSBjb250cm9sbGVyIGNhbiBlaXRoZXIgYmUgXCJmcmVlXCIgb3IgXCJjb2xsaWRpbmdcIiBhcyBzcGVjaWZpZWQgaW4gdGhlIG1haW4uanMgZmlsZVxyXG4gICAgICAgICAgICAvLyBDb2xsaWRpbmcgcmVmZXJzIHRvIGNvbGxpZGluZyB3aXRoIGEgcHJldmlldy1pY29uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIuaXMoJ2NvbGxpZGluZycpKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhc3NldEVsID0gdGhpcy5lbC5jb21wb25lbnRzWydhYWJiLWNvbGxpZGVyJ11bJ2ludGVyc2VjdGVkRWxzJ11bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFzc2V0RGF0YSA9IHVuZGVmaW5lZDsgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2V0RWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2V0RWwuY29tcG9uZW50c1sncHJldmlldy1pY29uJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZpZXcgSWNvbiBDbGlja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXREYXRhID0gYXNzZXRFbC5jb21wb25lbnRzWydwcmV2aWV3LWljb24nXS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVBc3NldChhc3NldERhdGEub2JqLCBhc3NldERhdGEubXRsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3NldEVsLmNvbXBvbmVudHNbJ29iai1tb2RlbCddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPYmplY3QgTW9kZWwgQ2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFeGlzdGluZ0Fzc2V0KGFzc2V0RWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2V0RWwuY29tcG9uZW50c1sndnItZXJhc2VyLXRvZ2dsZSddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInZyLWVyYXNlciB0b2dnbGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldEVsLmVtaXQoJ2NsaWNrJywge2VsOiB0aGlzLmVsfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NvbGxpZGluZycpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbGxlci5hZGRFdmVudExpc3RlbmVyKCd0cmlnZ2VydXAnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyLmlzKCdjb2xsaWRpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NvbGxpZGluZycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXNzZXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RyaWdnZXIgdXAnKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHt9LFxyXG4gICAgdGljazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUFzc2V0ICE9PSBmYWxzZSAmJiB0aGlzLmN1cnJlbnRBc3NldEVsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbGV0IHdvcmxkUG9zID0gdGhpcy5jYWxjV29ybGRQb3ModGhpcy5lbC5vYmplY3QzRC5tYXRyaXhXb3JsZCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFzc2V0RWwuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIGAke3dvcmxkUG9zLnh9ICR7d29ybGRQb3MueX0gJHt3b3JsZFBvcy56fWApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnlDdHJsUXVhbnRlcm5pb24uY29weSh0aGlzLmVsLm9iamVjdDNELmdldFdvcmxkUXVhdGVybmlvbigpKTtcclxuICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnlDdHJsUXVhbnRlcm5pb24ubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5zdGFydGluZ0Fzc2V0UXVhbnRlcm5pb24oXHJcbiAgICAgICAgICAgIC8vdGhpcy5kZWx0YUN0cmxRdWFudGVybmlvbi5pbnZlcnNlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlbHRhQ3RybFF1YW50ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnModGhpcy5zZWNvbmRhcnlDdHJsUXVhbnRlcm5pb24sIHRoaXMuc3RhcnRpbmdDdHJsUXVhbnRlcm5pb24pO1xyXG4gICAgICAgICAgICB0aGlzLmZpbmFsQXNzZXRRdWFudGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKHRoaXMuZGVsdGFDdHJsUXVhbnRlcm5pb24sIHRoaXMuc3RhcnRpbmdBc3NldFF1YW50ZXJuaW9uKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5jdXJyZW50QXNzZXRRdWF0ZXJuaW9uKTtcclxuICAgICAgICAgICAgLy90aGlzLmN1cnJlbnRBc3NldFF1YXRlcm5pb24ubXVsdGlwbHkodGhpcy5lbC5vYmplY3QzRC5nZXRXb3JsZFF1YXRlcm5pb24oKSk7XHJcbiAgICAgICAgICAgIC8vIFJvdGF0aW9uXHJcbiAgICAgICAgICAgIC8vLmFwcGx5UXVhdGVybmlvbih0aGlzLmVsLm9iamVjdDNELmdldFdvcmxkUXVhdGVybmlvbigpKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QXNzZXRFbC5vYmplY3QzRC5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuZmluYWxBc3NldFF1YW50ZXJuaW9uKTtcclxuICAgICAgICAgICAgLy90aGlzLmN1cnJlbnRBc3NldEVsLm9iamVjdDNELnNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24odGhpcy5lbC5vYmplY3QzRC5nZXRXb3JsZFF1YXRlcm5pb24oKSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3VwZGF0ZScsIHRoaXMudXBkYXRlQXNzZXQsICdhc3NldCcsIHRoaXMuY3VycmVudEFzc2V0RWwpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdhc3NldCcsIHRoaXMuY3VycmVudEFzc2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7fSxcclxuICAgIHBhdXNlOiBmdW5jdGlvbiAoKSB7fSxcclxuICAgIHBsYXk6IGZ1bmN0aW9uICgpIHt9LFxyXG5cclxuICAgIGNyZWF0ZUFzc2V0KG9ialVybCwgbXRsVXJsKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QXNzZXRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QXNzZXRFbC5zZXRBdHRyaWJ1dGUoJ29iai1tb2RlbCcsIHtcclxuICAgICAgICAgICAgb2JqOiBvYmpVcmwsXHJcbiAgICAgICAgICAgIG10bDogbXRsVXJsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudEFzc2V0RWwuc2V0QXR0cmlidXRlKCdzY2FsZScsICcwLjAxIDAuMDEgMC4wMScpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEFzc2V0RWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjb2xsaWRlcycpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnUE9TSVRJT04nKTtcclxuXHJcbiAgICAgICAgLy90aGlzLmNhbGNXb3JsZFBvcyh0aGlzLmVsLm9iamVjdDNELm1hdHJpeFdvcmxkKTtcclxuICAgICAgICAvL3RoaXMuY3VycmVudEFzc2V0RWwuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIGAke3RoaXMuYXNzZXRXb3JsZFBvcy54fSAke3RoaXMuYXNzZXRXb3JsZFBvcy55fSAke3RoaXMuYXNzZXRXb3JsZFBvcy56fWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vdGhpcy5jdXJyZW50QXNzZXRRdWF0ZXJuaW9uLmNvcHkodGhpcy5jdXJyZW50QXNzZXRFbC5vYmplY3QzRC5nZXRXb3JsZFF1YXRlcm5pb24oKSk7XHJcbiAgICAgICAgdGhpcy5zdGFydGluZ0Fzc2V0UXVhbnRlcm5pb24uY29weSh0aGlzLmN1cnJlbnRBc3NldEVsLm9iamVjdDNELmdldFdvcmxkUXVhdGVybmlvbigpKTtcclxuICAgICAgICB0aGlzLnN0YXJ0aW5nQXNzZXRRdWFudGVybmlvbi5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydGluZ0N0cmxRdWFudGVybmlvbi5jb3B5KHRoaXMuZWwub2JqZWN0M0QuZ2V0V29ybGRRdWF0ZXJuaW9uKCkpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRpbmdDdHJsUXVhbnRlcm5pb24uaW52ZXJzZSgpO1xyXG4gICAgICAgIC8vdGhpcy5zdGFydGluZ0N0cmxRdWFudGVybmlvbi5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbC5zY2VuZUVsLmFwcGVuZENoaWxkKHRoaXMuY3VycmVudEFzc2V0RWwpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEFzc2V0RWwuZmx1c2hUb0RPTSgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQXNzZXQgPSB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGVFeGlzdGluZ0Fzc2V0KGFzc2V0RWwpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50QXNzZXRFbCA9IGFzc2V0RWw7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnRpbmdBc3NldFF1YW50ZXJuaW9uLmNvcHkodGhpcy5jdXJyZW50QXNzZXRFbC5vYmplY3QzRC5nZXRXb3JsZFF1YXRlcm5pb24oKSk7XHJcbiAgICAgICAgdGhpcy5zdGFydGluZ0Fzc2V0UXVhbnRlcm5pb24ubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnRpbmdDdHJsUXVhbnRlcm5pb24uY29weSh0aGlzLmVsLm9iamVjdDNELmdldFdvcmxkUXVhdGVybmlvbigpKTtcclxuICAgICAgICB0aGlzLnN0YXJ0aW5nQ3RybFF1YW50ZXJuaW9uLmludmVyc2UoKTtcclxuICAgICAgICAvL3RoaXMuc3RhcnRpbmdDdHJsUXVhbnRlcm5pb24ubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5jdXJyZW50QXNzZXRFbC5vYmplY3QzRC5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuc3RhcnRpbmdBc3NldFF1YW50ZXJuaW9uKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUFzc2V0ID0gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgY2FsY1dvcmxkUG9zKGVsZW1lbnRNYXRyaXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hc3NldFdvcmxkUG9zLnNldEZyb21NYXRyaXhQb3NpdGlvbihlbGVtZW50TWF0cml4KTtcclxuICAgIH0sXHJcblxyXG5cclxuICB9KTsiLCJBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2l0ZW0tc2VsZWN0b3InLCB7XHJcbiAgICBzY2hlbWE6IHtcclxuICAgICAgICAvLyBzaXplOiB7dHlwZTogJ3ZlYzInLCBkZWZhdWx0OiB7eDowLjUsIHk6MC4yfX1cclxuICAgICAgICAvLyBDb250YWluIGEgbGlzdCBvZiBvYmplY3RzXHJcbiAgICAgICAgLy8gZXg6IHtcclxuICAgICAgICAvLyAgICAgIG5hbWU6ICAgIC8vIE5hbWUgb2Ygb2JqZWN0XHJcbiAgICAgICAgLy8gICAgICBvYmo6ICAgICAvLyAzRCBvYmplY3QgbG9jYXRpb25cclxuICAgICAgICAvLyAgICAgIHByZXZpZXc6IC8vIFByZXZpZXcgaW1hZ2UgbG9jYXRpb25cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgYXNzZXRMaXN0OiB7dHlwZTogJ3N0cmluZycsIGRlZmF1bHQ6IFwiW11cIn1cclxuICAgIH0sXHJcblxyXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEuYXNzZXRMaXN0KTtcclxuXHJcbiAgICAgICAgdGhpcy5hc3NldExpc3QgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gRGlzcGxheSByZWN0YW5nbGVcclxuICAgICAgICBsZXQgZGlzcGxheUcgPSBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoMC4zLCAwLjAxLCAwLjUpO1xyXG4gICAgICAgIGxldCBkaXNwbGF5TSA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiAweGJiYmJmZixcclxuICAgICAgICAgICAgc2lkZTogJ2RvdWJsZSdcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlNZXNoID0gbmV3IFRIUkVFLk1lc2goZGlzcGxheUcsIGRpc3BsYXlNKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbC5zZXRPYmplY3QzRCgnbWVzaCcsIHRoaXMuZGlzcGxheU1lc2gpO1xyXG4gICAgICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsICctMC4xIDAuMyAwLjEnKTtcclxuICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgncm90YXRpb24nLCAnMCAwIC03NScpO1xyXG5cclxuICAgICAgICAvLyBBZGQgTGFiZWxzXHJcbiAgICAgICAgbGV0IGFzc2V0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtdGV4dCcpO1xyXG4gICAgICAgIGFzc2V0VGV4dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgJ0Fzc2V0cycpO1xyXG4gICAgICAgIGFzc2V0VGV4dC5zZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJywgJy05MCA5MCAwJyk7XHJcbiAgICAgICAgYXNzZXRUZXh0LnNldEF0dHJpYnV0ZSgnc2NhbGUnLCAnMC4xIDAuMSAwLjEnKTtcclxuICAgICAgICBhc3NldFRleHQuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsICctMC4xMSAwLjAxIDAuMjQnKTtcclxuICAgICAgICBhc3NldFRleHQuc2V0QXR0cmlidXRlKCdjb2xvcicsICcjMDEwMTAxJyk7XHJcblxyXG4gICAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQoYXNzZXRUZXh0KTtcclxuXHJcbiAgICAgICAgbGV0IHRvb2xzVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtdGV4dCcpO1xyXG4gICAgICAgIHRvb2xzVGV4dC5zZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJywgJy05MCA5MCAwJyk7XHJcbiAgICAgICAgdG9vbHNUZXh0LnNldEF0dHJpYnV0ZSgnc2NhbGUnLCAnMC4xIDAuMSAwLjEnKTtcclxuICAgICAgICB0b29sc1RleHQuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsICcwLjAzIDAuMDEgMC4yNCcpO1xyXG4gICAgICAgIHRvb2xzVGV4dC5zZXRBdHRyaWJ1dGUoJ2NvbG9yJywgJyMwMTAxMDEnKTtcclxuICAgICAgICB0b29sc1RleHQuc2V0QXR0cmlidXRlKCd2YWx1ZScsICdUb29scycpO1xyXG4gICAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodG9vbHNUZXh0KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBZGQgVG9vbHNcclxuICAgICAgICAvLyBBZGRpbmcgUmVtb3ZlciBUb29sXHJcbiAgICAgICAgbGV0IHJlbW92ZXJUb29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcclxuICAgICAgICByZW1vdmVyVG9vbC5zZXRBdHRyaWJ1dGUoJ3ZyLWVyYXNlci10b2dnbGUnLCBcIlwiKTtcclxuICAgICAgICByZW1vdmVyVG9vbC5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgXCIwLjA4IDAuMDEgMC4yMVwiKTtcclxuICAgICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHJlbW92ZXJUb29sKTtcclxuXHJcblxyXG4gICAgICAgIC8vIFByZXZpZXcgSWNvbiBDb250YWluZXJcclxuICAgICAgICBjb25zdCBJQ09OX0hFSUdIVCA9IDAuMDU7XHJcbiAgICAgICAgY29uc3QgSUNPTl9XSURUSCA9IDAuMDU7XHJcbiAgICAgICAgdGhpcy5JQ09OX09GRlNFVCA9IDAuMjE7XHJcbiAgICAgICAgdGhpcy5JQ09OX01VTFRJUExZRVIgPSAwLjA4O1xyXG5cclxuICAgICAgICBsZXQgcHJldmlld0ljb25Db250YWluZXJHID0gbmV3IFRIUkVFLkJveEJ1ZmZlckdlb21ldHJ5KElDT05fSEVJR0hULCAwLjAxLCBJQ09OX1dJRFRIKTtcclxuICAgICAgICBsZXQgcHJldmlld0ljb25Db250YWluZXJNID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgICAgICAgY29sb3I6IDB4OTk5OTk5LFxyXG4gICAgICAgICAgICBzaWRlOiAnZG91YmxlJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucHJldmlld0ljb25Db250YWluZXJNZXNoID0gbmV3IFRIUkVFLk1lc2goZGlzcGxheUcsIGRpc3BsYXlNKTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy8gU2V0dXAgYXNzZXJ0TGlzdFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXNzZXRMaXN0ID0gSlNPTi5wYXJzZSh0aGlzLmRhdGEuYXNzZXRMaXN0KTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVBc3NldExpc3QodGhpcy5hc3NldExpc3QpO1xyXG4gICAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHRpY2s6IGZ1bmN0aW9uICgpIHt9LFxyXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7fSxcclxuICAgIHBhdXNlOiBmdW5jdGlvbiAoKSB7fSxcclxuICAgIHBsYXk6IGZ1bmN0aW9uICgpIHt9LFxyXG5cclxuICAgIHVwZGF0ZUFzc2V0TGlzdChuZXdBc3NldExpc3QpIHtcclxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgYWxsIHByZXZpb3VzIGVsZW1lbnRzIGZyb20gdGhlIGxpc3RcclxuICAgICAgICAvLyBpZiAodGhpcy5jdXJyZW50QXNzZXRFbGVtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuY3VycmVudEFzc2V0RWxlbWVudHMuZm9yRWFjaCgoYXNzZXQpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuZWwucmVtb3ZlT2JqZWN0M0QoYXNzZXQubmFtZS4gYXNzZXQubWVzaCk7XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBjb25zb2xlLmxvZygnaGl0MScpO1xyXG4gICAgICAgIGlmIChuZXdBc3NldExpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBuZXdBc3NldExpc3QuZm9yRWFjaCgoYXNzZXQsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBc3NldCcgLCBhc3NldCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaGl0IGluc2lkZScpO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLmVsLnNldE9iamVjdDNEKCdpY29uXycgKyBpLCB0aGlzLmRpc3BsYXlNZXNoKTtcclxuICAgICAgICAgICAgICAgIGxldCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGUoJ3ByZXZpZXctaWNvbicsIGBuYW1lOiAke2Fzc2V0Lm5hbWV9OyBvYmo6ICR7YXNzZXQub2JqfTsgbXRsOiAke2Fzc2V0Lm10bH07IHByZXZpZXdJbWFnZTogJHthc3NldC5wcmV2aWV3SW1hZ2V9YCk7XHJcbiAgICAgICAgICAgICAgICBpY29uLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBgLTAuMDQ1IDAuMDEgJHsoLWkqdGhpcy5JQ09OX01VTFRJUExZRVIpICsgdGhpcy5JQ09OX09GRlNFVH1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQoaWNvbik7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFbGVtZW50IENyZWF0ZWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vdGhpcy5lbC5zZXRPYmplY3QzRCgnaWNvbl8xJywgdGhpcy5kaXNwbGF5TWVzaCk7XHJcbiAgICAgICAgLy90aGlzLmVsLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCAnLTAuMiAwIDAuMScpO1xyXG4gICAgfVxyXG4gIH0pOyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgncHJldmlldy1pY29uJywge1xyXG4gICAgc2NoZW1hOiB7XHJcbiAgICAgICAgbmFtZToge3R5cGU6IFwic3RyaW5nXCIsIGRlZmF1bHQ6IFwidGVtcFwifSxcclxuICAgICAgICBwcmV2aWV3SW1hZ2U6IHt0eXBlOiBcInN0cmluZ1wiLCAnZGVmYXVsdCc6ICcnfSxcclxuICAgICAgICBvYmo6IHt0eXBlOiBcInN0cmluZ1wiLCBkZWZhdWx0OiAnJ30sXHJcbiAgICAgICAgbXRsOiB7dHlwZTogXCJzdHJpbmdcIiwgZGVmYXVsdDogJyd9LFxyXG4gICAgICAgIGNvbGxpc2lvbk9ianM6IHt0eXBlOiBcImFycmF5XCIsIGRlZmF1bHQ6IFtdfVxyXG4gICAgfSxcclxuXHJcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgSUNPTl9IRUlHSFQgPSAwLjA1O1xyXG4gICAgICAgIGNvbnN0IElDT05fV0lEVEggPSAwLjA1O1xyXG5cclxuICAgICAgICAvLyBQcmV2aWV3IEljb25zXHJcbiAgICAgICAgdGhpcy5hc3NldEVsZW1lbnRzTWFwID0gW107XHJcbiAgICAgICAgbGV0IHN0YXJ0UG9zID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgIHRoaXMucHJldmlld09iaiA9IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBwcmV2aWV3SWNvbkcgPSBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoSUNPTl9IRUlHSFQsIDAuMDEsIElDT05fV0lEVEgpO1xyXG4gICAgICAgIGxldCBwcmV2aWV3SWNvbk0gPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICAgICAgICBjb2xvcjogMHhlZWVlZWUsXHJcbiAgICAgICAgICAgIHNpZGU6ICdkb3VibGUnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZHMgaW1hZ2UgdG8gaWNvbihidXR0b24pIGlmIHByZXNlbnRcclxuICAgICAgICBsZXQgaW1hZ2UgPSB0aGlzLmdldEltYWdlKCk7XHJcbiAgICAgICAgaWYgKGltYWdlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHByZXZpZXdJY29uTS5tYXAgPSBpbWFnZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucHJldmlld0ljb25NZXNoID0gbmV3IFRIUkVFLk1lc2gocHJldmlld0ljb25HLCBwcmV2aWV3SWNvbk0pO1xyXG4gICAgICAgIC8vIEFsaWducyBQaWN0dXJlIEljb24gaW4gdGhlIGNvcnJlY3Qgb3JpZW50YXRpb25cclxuICAgICAgICB0aGlzLnByZXZpZXdJY29uTWVzaC5yb3RhdGVZKE1hdGguUEkvMik7XHJcbiAgICAgICAgdGhpcy5lbC5zZXRPYmplY3QzRCgnbWVzaCcsIHRoaXMucHJldmlld0ljb25NZXNoKTtcclxuXHJcblxyXG4gICAgICAgIC8vIFByZXNzaW5nIEFuaW1hdGlvbnNcclxuICAgICAgICBsZXQgYW5pbWF0aW9uRG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtYW5pbWF0aW9uJyk7XHJcbiAgICAgICAgYW5pbWF0aW9uRG93bi5zZXRBdHRyaWJ1dGUoJ2F0dHJpYnV0ZScsIFwicG9zaXRpb25cIik7XHJcbiAgICAgICAgYW5pbWF0aW9uRG93bi5zZXRBdHRyaWJ1dGUoJ2R1cicsIFwiMTAwXCIpO1xyXG4gICAgICAgIGFuaW1hdGlvbkRvd24uc2V0QXR0cmlidXRlKCd0bycsIGAke3N0YXJ0UG9zLnh9ICR7c3RhcnRQb3MueSArIC0wLjAwNX0gJHtzdGFydFBvcy56fWApO1xyXG4gICAgICAgIGFuaW1hdGlvbkRvd24uc2V0QXR0cmlidXRlKCdiZWdpbicsIFwiZG93blwiKTtcclxuICAgICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKGFuaW1hdGlvbkRvd24pO1xyXG5cclxuICAgICAgICBsZXQgYW5pbWF0aW9uVXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWFuaW1hdGlvbicpO1xyXG4gICAgICAgIGFuaW1hdGlvblVwLnNldEF0dHJpYnV0ZSgnYXR0cmlidXRlJywgXCJwb3NpdGlvblwiKTtcclxuICAgICAgICBhbmltYXRpb25VcC5zZXRBdHRyaWJ1dGUoJ2R1cicsIFwiMTAwXCIpO1xyXG4gICAgICAgIGFuaW1hdGlvblVwLnNldEF0dHJpYnV0ZSgndG8nLCBgJHtzdGFydFBvcy54fSAke3N0YXJ0UG9zLnl9ICR7c3RhcnRQb3Muen1gKTtcclxuICAgICAgICBhbmltYXRpb25VcC5zZXRBdHRyaWJ1dGUoJ2JlZ2luJywgXCJ1cFwiKTtcclxuICAgICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKGFuaW1hdGlvblVwKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbC5mbHVzaFRvRE9NKCk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHByZXZpZXcgb2JqIGlzIHByZXNlbnRcclxuICAgICAgICBpZiAodGhpcy5kYXRhLm9iaiAhPT0gJycgJiYgdGhpcy5kYXRhLm10bCAhPT0gJycpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBwcmV2aWV3IE9ialxyXG4gICAgICAgICAgICB0aGlzLnByZXZpZXdPYmogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xyXG4gICAgICAgICAgICB0aGlzLnByZXZpZXdPYmouc2V0QXR0cmlidXRlKCdvYmotbW9kZWwnLCB7XHJcbiAgICAgICAgICAgICAgICBvYmo6IHRoaXMuZGF0YS5vYmosXHJcbiAgICAgICAgICAgICAgICBtdGw6IHRoaXMuZGF0YS5tdGxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByZXZpZXdPYmouc2V0QXR0cmlidXRlKCdzY2FsZScsICcwLjAxIDAuMDEgMC4wMScpO1xyXG4gICAgICAgICAgICB0aGlzLnByZXZpZXdPYmouc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsICctMC4xMiAwIDAnKTtcclxuICAgICAgICAgICAgdGhpcy5wcmV2aWV3T2JqLnNldEF0dHJpYnV0ZSgncm90YXRpb24nLCAnLTkwIDAgOTAnKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5wcmV2aWV3T2JqLnNldEF0dHJpYnV0ZSgnbWF0ZXJpYWwnLCAndmlzaWJsZTogZmFsc2UnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJldmlld09iai5mbHVzaFRvRE9NKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBEYXRhIG9iaiBub3QgZm91bmQgb25gLCB0aGlzLmVsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vdGhpcy5lbC5mbHVzaFRvRE9NKCk7XHJcbiAgICAgICAgLy90aGlzLmVsLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCAnLTAuMiAwLjEgMC4xJyk7XHJcbiAgICBcclxuXHJcbiAgICAgICAgLy8gU2V0cyBhZnJhbWUgZXh0cmEncyBzcGhlcmUgY29sbGlkZXIgb250byBpY29uXHJcbiAgICAgICAgLy90aGlzLmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBcInByZXZpZXctaWNvblwiKTtcclxuICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnYWFiYi1jb2xsaWRlcicsICdvYmplY3RzOiBbaGFuZC1jb250cm9sc10nKTtcclxuICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY29sbGlkZXMnKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2hpdHN0YXJ0JywgKGUpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJISVQgSEFTIEhBUFBFTkVEXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmVsLmVtaXQoJ2Rvd24nKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRQcmV2aWV3T2JqKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignaGl0ZW5kJywgKGUpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJISVQgRU5EIEhBUyBIQVBQRU5FRFwiKTtcclxuICAgICAgICAgICAgdGhpcy5lbC5lbWl0KCd1cCcpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZVByZXZpZXdPYmooKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9wcmV2aWV3T2JqLm1hdGVyaWFsLndpcmVmcmFtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSUNPTicsIHRoaXMuZWwpOyBcclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHt9LFxyXG4gICAgdGljazogZnVuY3Rpb24gKCkge30sXHJcbiAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHt9LFxyXG4gICAgcGF1c2U6IGZ1bmN0aW9uICgpIHt9LFxyXG4gICAgcGxheTogZnVuY3Rpb24gKCkge30sXHJcblxyXG4gICAgZ2V0SW1hZ2UoKSB7XHJcbiAgICAgICAgbGV0IHByZXZpZXdJbWFnZSA9IHRoaXMuZGF0YS5wcmV2aWV3SW1hZ2U7XHJcbiAgICAgICAgaWYgKHByZXZpZXdJbWFnZSAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJldmlld0ltYWdlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCBpbWFnZSA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUocHJldmlld0ltYWdlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG4gICAgYWRkUHJldmlld09iaigpIHtcclxuICAgICAgICBpZiAodGhpcy5wcmV2aWV3T2JqKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5wcmV2aWV3T2JqKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHJlbW92ZVByZXZpZXdPYmooKSB7XHJcbiAgICAgICAgbGV0IHByZU9iaiA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignYS1lbnRpdHlbb2JqLW1vZGVsXScpO1xyXG4gICAgICAgIGlmIChwcmVPYmopIHtcclxuICAgICAgICAgICAgdGhpcy5lbC5yZW1vdmVDaGlsZChwcmVPYmopO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBwcmV2aWV3IG9iamVjdCB0byByZW1vdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHByZXZpZXdPYmpWaXNpYmxlKCkge1xyXG4gICAgICAgIGxldCBwcmVPYmogPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2EtZW50aXR5W29iai1tb2RlbF0nKTtcclxuICAgICAgICBpZiAocHJlT2JqKSB7XHJcbiAgICAgICAgICAgIHByZU9iai5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgJ3Zpc2libGU6IHRydWUnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gcHJldmlldyBvYmplY3QgZm91bmQnKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGhpZGVQcmV2aWV3T2JqKCkge1xyXG4gICAgICAgIGxldCBwcmVPYmogPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2EtZW50aXR5W29iai1tb2RlbF0nKTtcclxuICAgICAgICBpZiAocHJlT2JqKSB7XHJcbiAgICAgICAgICAgIHByZU9iai5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgJ3Zpc2libGU6IGZhbHNlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIHByZXZpZXcgb2JqZWN0IGZvdW5kJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gIH0pOyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgndnItZXJhc2VyLXRvZ2dsZScsIHtcclxuICAgIC8vIFRoaXMgaXMgYSBjb250cm9sbGVyIHRvb2wuIE11c3QgYmUgcGxhY2VkIG9uIHRoZSBjb250cm9sbGVyIGVsZW1lbnQuXHJcbiAgICBzY2hlbWE6IHt9LFxyXG5cclxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBWYXJpYWJsZXNcclxuICAgICAgICB0aGlzLmVyYXNlckFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBFcmFzZXIgVG9vbCBSZWN0YW5nbGVcclxuICAgICAgICBsZXQgZXRHZW8gPSBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoMC4wMjUsIDAuMDEsIDAuMDUpO1xyXG4gICAgICAgIGxldCBldE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2U4YTVhMCdcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmV0TWVzaCA9IG5ldyBUSFJFRS5NZXNoKGV0R2VvLCBldE1hdCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUGxhY2Vob2xkZXIgZm9yIHRoZSBFcmFzZXJcclxuICAgICAgICBsZXQgcEdlbyA9IG5ldyBUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSgwLjAyNSwgMC4wMDEsIDAuMDUpO1xyXG4gICAgICAgIGxldCBwTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgICAgICAgY29sb3I6ICcjQzUzNDRBJyxcclxuICAgICAgICAgICAgd2lyZWZyYW1lOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wTWVzaCA9IG5ldyBUSFJFRS5NZXNoKHBHZW8sIHBNYXQpO1xyXG5cclxuICAgICAgICB0aGlzLmVsLnNldE9iamVjdDNEKCdldCcsIHRoaXMuZXRNZXNoKTtcclxuICAgICAgICAvLyBNdXN0IGJlIGNhbGxlZCAnbWVzaCcgaW4gb3JkZXIgZm9yIGFhYmIgY29saWRlciB0byB3b3JrXHJcbiAgICAgICAgdGhpcy5lbC5zZXRPYmplY3QzRCgnbWVzaCcsIHRoaXMucE1lc2gpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gVGV4dFxyXG4gICAgICAgIC8vIFRvZG86IEEgdG9vbCBVSSBjb21wb25lbnQgc2hvdWxkIGJlIGNyZWF0ZWQgdGhhdCBoYXMgdGhlIG9wdGlvbiBvZiB0ZXh0IGluc3RlYWQgb2YgY3JlYXRpbmcgdG9vbCBzcGVjaWZpYyB0ZXh0IGFuZCBpY29ucyBoZXJlLlxyXG4gICAgICAgIGxldCBlcmFzZXJUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS10ZXh0Jyk7XHJcbiAgICAgICAgZXJhc2VyVGV4dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgJ0VyYXNlcicpO1xyXG4gICAgICAgIGVyYXNlclRleHQuc2V0QXR0cmlidXRlKCdyb3RhdGlvbicsICctOTAgOTAgMCcpO1xyXG4gICAgICAgIGVyYXNlclRleHQuc2V0QXR0cmlidXRlKCdzY2FsZScsICcwLjA1IDAuMDUgMC4wNScpO1xyXG4gICAgICAgIGVyYXNlclRleHQuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsICcwLjAzIDAgMC4wMicpO1xyXG4gICAgICAgIGVyYXNlclRleHQuc2V0QXR0cmlidXRlKCdjb2xvcicsICcjMDEwMTAxJyk7XHJcbiAgICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZChlcmFzZXJUZXh0KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuZWwuZmx1c2hUb0RPTSgpO1xyXG5cclxuICAgICAgICAvLyBTZXQgY29sbGlkZXJcclxuICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnYWFiYi1jb2xsaWRlcicsICdvYmplY3RzOiBbaGFuZC1jb250cm9sc10nKTtcclxuICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY29sbGlkZXMnKTtcclxuICAgICAgICB0aGlzLmVsLmZsdXNoVG9ET00oKTtcclxuXHJcbiAgICAgICAgLy8gRXZlbnQgTGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXRFbCA9IGUuZGV0YWlsLmVsO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGFyZ2V0RWwnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGFyZ2V0RWwpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lcmFzZXJBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXJhc2VyKHRhcmdldEVsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJhc2VyQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlbW92ZSBFcmFzZXJcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaEVyYXNlcih0YXJnZXRFbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyYXNlckFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFkZCBFcmFzZXJcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogZnVuY3Rpb24gKCkge30sXHJcbiAgICB0aWNrOiBmdW5jdGlvbiAoKSB7fSxcclxuICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge30sXHJcbiAgICBwYXVzZTogZnVuY3Rpb24gKCkge30sXHJcbiAgICBwbGF5OiBmdW5jdGlvbiAoKSB7fSxcclxuXHJcbiAgICBhdHRhY2hFcmFzZXIoY29udHJvbGxlckVsKSB7XHJcbiAgICAgICAgaWYgKGNvbnRyb2xsZXJFbCkge1xyXG4gICAgICAgICAgICBjb250cm9sbGVyRWwuc2V0QXR0cmlidXRlKCd2ci1lcmFzZXInLCBcIlwiKTtcclxuICAgICAgICAgICAgdGhpcy5lbC5yZW1vdmVPYmplY3QzRCgnZXQnKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgXHJcblxyXG4gICAgcmVtb3ZlRXJhc2VyKGNvbnRyb2xsZXJFbCkge1xyXG4gICAgICAgIGlmIChjb250cm9sbGVyRWwpIHtcclxuICAgICAgICAgICAgY29udHJvbGxlckVsLnJlbW92ZUF0dHJpYnV0ZSgndnItZXJhc2VyJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZWwuc2V0T2JqZWN0M0QoJ2V0JywgdGhpcy5ldE1lc2gpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgfSk7IiwiQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCd2ci1lcmFzZXInLCB7XHJcbiAgICAvLyBUaGlzIGlzIGEgY29udHJvbGxlciB0b29sLiBNdXN0IGJlIHBsYWNlZCBvbiB0aGUgY29udHJvbGxlciBlbGVtZW50LlxyXG4gICAgc2NoZW1hOiB7fSxcclxuXHJcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gdGhpcy5lbDtcclxuXHJcblxyXG4gICAgICAgIC8vIFZhcmlhYmxlc1xyXG4gICAgICAgIHRoaXMuZXJhc2VySG92ZXIgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByZXZpb3VzQXNzZXRIaXQgPSB1bmRlZmluZWQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmFja3MgdGhlIHByZXZpb3VzIGFzc2V0IHRoZSBlcmFzZXIgd2FzIGluIGNvbnRhY3Qgd2l0aFxyXG5cclxuXHJcbiAgICAgICAgLy8gU2V0IEVyYXNlclxyXG4gICAgICAgIGxldCBlcmFzZXJHZW8gPSBuZXcgVEhSRUUuQ3ViZUdlb21ldHJ5KDAuMDUsIDAuMSwgMC4wMik7XHJcbiAgICAgICAgbGV0IGVyYXNlck1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2U4YTVhMCdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5lcmFzZXJNZXNoID0gbmV3IFRIUkVFLk1lc2goZXJhc2VyR2VvLCBlcmFzZXJNYXQpO1xyXG4gICAgICAgIHRoaXMuZXJhc2VyTWVzaC50cmFuc2xhdGVaKC0wLjEpO1xyXG4gICAgICAgIHRoaXMuZXJhc2VyTWVzaC5yb3RhdGVYKE1hdGguUEkvMik7XHJcbiAgICAgICAgdGhpcy5lbC5zZXRPYmplY3QzRCgnZXJhc2VyJywgdGhpcy5lcmFzZXJNZXNoKTtcclxuICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnYWFiYi1jb2xsaWRlcicsICdvYmplY3RzOiAuY29sbGlkZXMnKTtcclxuXHJcblxyXG4gICAgICAgIC8vIERlbGV0aW9uIERldGVjdGlvbiBCb3hcclxuICAgICAgICBsZXQgZGRCb3hHZW8gPSBuZXcgVEhSRUUuQ3ViZUdlb21ldHJ5KDI1LCAyNSwgMjUpO1xyXG4gICAgICAgIGxldCBkZEJveE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgIHdpcmVmcmFtZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmRkQm94TWVzaCA9IG5ldyBUSFJFRS5NZXNoKGRkQm94R2VvLCBkZEJveE1hdCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmVsLmZsdXNoVG9ET00oKTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB7IFxyXG4gICAgICAgICAgICBoaXRzdGFydDogKChlKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGFzc2V0RWwgPSB0aGlzLmVsLmNvbXBvbmVudHNbJ2FhYmItY29sbGlkZXInXVsnaW50ZXJzZWN0ZWRFbHMnXVswXTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgYm91bmRpbmcgYm94IGlmIHRoZSBlbGVtZW50IGlzIGFuIG9iamVjdCBtb2RlbFxyXG4gICAgICAgICAgICAgICAgaWYgKGFzc2V0RWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXNzZXRFbC5jb21wb25lbnRzWydvYmotbW9kZWwnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPYmplY3QgTW9kZWwgQ2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xldCBib3VuZGluZ0JveCA9IG5ldyBUSFJFRS5Cb3VuZGluZ0JveEhlbHBlcihhc3NldEVsLmdldE9iamVjdDNEKCdtZXNoJyksIDB4ZmYwMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmVsLnNjZW5lRWwuYWRkKGJvdW5kaW5nQm94KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRFbC5zZXRPYmplY3QzRCgnZGRCb3gnLCB0aGlzLmRkQm94TWVzaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNBc3NldEhpdCA9IGFzc2V0RWw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJhc2VyIEhJVFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJhc2VySG92ZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcmFzZXJNZXNoLm1hdGVyaWFsLmNvbG9yLnNldEhleCgweEZGMDAwMCk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBoaXRlbmQ6ICgoZSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhIGJvdW5kaW5nIGJveCBpZiB0aGUgZWxlbWVudCBpcyBhbiBvYmplY3QgbW9kZWxcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzQXNzZXRIaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzQXNzZXRIaXQucmVtb3ZlT2JqZWN0M0QoJ2RkQm94Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c0Fzc2V0SGl0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVyYXNlciBFTkRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyYXNlckhvdmVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyYXNlck1lc2gubWF0ZXJpYWwuY29sb3Iuc2V0SGV4KDB4Q0M2NjY2KTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIHRyaWdnZXJkb3duOiAoKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0cmlnZ2VyIGRvd24nKTtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSBjb250cm9sbGVyIGNhbiBlaXRoZXIgYmUgXCJmcmVlXCIgb3IgXCJjb2xsaWRpbmdcIiBhcyBzcGVjaWZpZWQgaW4gdGhlIG1haW4uanMgZmlsZVxyXG4gICAgICAgICAgICAgICAgLy8gQ29sbGlkaW5nIHJlZmVycyB0byBjb2xsaWRpbmcgd2l0aCBhIHByZXZpZXctaWNvblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlci5pcygnY29sbGlkaW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXNzZXRFbCA9IHRoaXMuZWwuY29tcG9uZW50c1snYWFiYi1jb2xsaWRlciddWydpbnRlcnNlY3RlZEVscyddWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXNzZXREYXRhID0gdW5kZWZpbmVkOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2V0RWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhc3NldEVsLmNvbXBvbmVudHNbJ29iai1tb2RlbCddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGFzc2V0RWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb2xsaWRpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignaGl0c3RhcnQnLCB0aGlzLmV2ZW50cy5oaXRzdGFydCk7XHJcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdoaXRlbmQnLCB0aGlzLmV2ZW50cy5oaXRlbmQpO1xyXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJpZ2dlcmRvd24nLCB0aGlzLmV2ZW50cy50cmlnZ2VyZG93bik7XHJcbiAgICAgICAgXHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7fSxcclxuICAgIHRpY2s6IGZ1bmN0aW9uICgpIHt9LFxyXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdoaXRzdGFydCcsIHRoaXMuZXZlbnRzLmhpdHN0YXJ0KTtcclxuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hpdGVuZCcsIHRoaXMuZXZlbnRzLmhpdGVuZCk7XHJcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmlnZ2VyZG93bicsIHRoaXMuZXZlbnRzLnRyaWdnZXJkb3duKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVPYmplY3QzRCgnZXJhc2VyJyk7XHJcbiAgICB9LFxyXG4gICAgcGF1c2U6IGZ1bmN0aW9uICgpIHt9LFxyXG4gICAgcGxheTogZnVuY3Rpb24gKCkge30sXHJcbiAgfSk7IiwiLy9pbXBvcnQgJy4vY29tcG9uZW50cy9iYWNrZ3JvdW5kJztcclxuLy9pbXBvcnQgJy4vY29tcG9uZW50cy9iaXJkcyc7XHJcblxyXG4vL2ltcG9ydCAnLi9jb21wb25lbnRzL3ZyLWJhY2tncm91bmQtbmF2JztcclxuXHJcbmltcG9ydCAnLi9wcm9qZWN0cy92ci1tZWNoYW5pc20nO1xyXG5pbXBvcnQgJy4vY29tcG9uZW50cy92ci1hcm0taXRlbS1zZWxlY3Rvcic7XHJcbmltcG9ydCAnLi9jb21wb25lbnRzL3ZyLWFybS1wcmV2aWV3LWljb24nO1xyXG5pbXBvcnQgJy4vY29tcG9uZW50cy9ncmFiLWFzc2V0cyc7XHJcbmltcG9ydCAnLi9jb21wb25lbnRzL3ZyLWVyYXNlcic7XHJcbmltcG9ydCAnLi9jb21wb25lbnRzL3ZyLWVyYXNlci10b2dnbGUnO1xyXG5cclxuY29uc3QgYWJzdHJhY3RzID0gcmVxdWlyZSgnLi9hYnN0cmFjdHMnKTsiLCJcInVzZSBzdHJpY3RcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYlhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWlJc0ltWnBiR1VpT2lKMmNpMXRaV05vWVc1cGMyMHVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2VzExOSJdfQ=="}